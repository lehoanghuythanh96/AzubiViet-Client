(self.webpackChunkazubi_client=self.webpackChunkazubi_client||[]).push([[14],{9924:function(ei){ei.exports=function(){"use strict";function He(d,n){var l=Object.keys(d);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(d);n&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(d,u).enumerable})),l.push.apply(l,a)}return l}function v(d){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?He(Object(l),!0).forEach(function(a){oe(d,a,l[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(l)):He(Object(l)).forEach(function(a){Object.defineProperty(d,a,Object.getOwnPropertyDescriptor(l,a))})}return d}function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(d)}function Be(d,n){if(!(d instanceof n))throw new TypeError("Cannot call a class as a function")}function F(d,n){for(var l=0;l<n.length;l++){var a=n[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function oe(d,n,l){return n in d?Object.defineProperty(d,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):d[n]=l,d}var L={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},Me="undefined"!=typeof window&&void 0!==window.document,ue=Me?window:{},e=!(!Me||!ue.document.documentElement)&&"ontouchstart"in ue.document.documentElement,Ge=!!Me&&"PointerEvent"in ue,q="viewer",H="move",P="switch",M="zoom",ee="".concat(q,"-active"),Rt="".concat(q,"-close"),$="".concat(q,"-fade"),Ae="".concat(q,"-fixed"),z="".concat(q,"-fullscreen"),et="".concat(q,"-fullscreen-exit"),N="".concat(q,"-hide"),de="".concat(q,"-hide-md-down"),Pt="".concat(q,"-hide-sm-down"),Mt="".concat(q,"-hide-xs-down"),ge="".concat(q,"-in"),Qe="".concat(q,"-invisible"),ye="".concat(q,"-loading"),Qt="".concat(q,"-move"),pt="".concat(q,"-open"),xe="".concat(q,"-show"),h="".concat(q,"-transition"),Q="click",tt="dblclick",gt="dragstart",it="focusin",S="keydown",ne="load",me="error",ht=Ge?"pointerdown":e?"touchstart":"mousedown",fe=Ge?"pointermove":e?"touchmove":"mousemove",Ze=Ge?"pointerup pointercancel":e?"touchend touchcancel":"mouseup",D="resize",re="transitionend",C="ready",Ce="show",W="shown",_t="hide",ft="view",Je="viewed",vt="move",wt="moved",bt="rotated",Tt="scale",At="scaled",qt="zoom",yt="zoomed",xt="play",$e="".concat(q,"Action"),ot=/\s\s*/,ze=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Oe(d){return"string"==typeof d}var be=Number.isNaN||ue.isNaN;function G(d){return"number"==typeof d&&!be(d)}function Ie(d){return void 0===d}function ke(d){return"object"===k(d)&&null!==d}var Ft=Object.prototype.hasOwnProperty;function Fe(d){if(!ke(d))return!1;try{var n=d.constructor,l=n.prototype;return n&&l&&Ft.call(l,"isPrototypeOf")}catch(a){return!1}}function Y(d){return"function"==typeof d}function U(d,n){if(d&&Y(n))if(Array.isArray(d)||G(d.length)){var a,l=d.length;for(a=0;a<l&&!1!==n.call(d,d[a],a,d);a+=1);}else ke(d)&&Object.keys(d).forEach(function(u){n.call(d,d[u],u,d)});return d}var ae=Object.assign||function(n){for(var l=arguments.length,a=new Array(l>1?l-1:0),u=1;u<l;u++)a[u-1]=arguments[u];return ke(n)&&a.length>0&&a.forEach(function(g){ke(g)&&Object.keys(g).forEach(function(m){n[m]=g[m]})}),n},Et=/^(?:width|height|left|top|marginLeft|marginTop)$/;function pe(d,n){var l=d.style;U(n,function(a,u){Et.test(u)&&G(a)&&(a+="px"),l[u]=a})}function Lt(d){return Oe(d)?d.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):d}function De(d,n){return!(!d||!n)&&(d.classList?d.classList.contains(n):d.className.indexOf(n)>-1)}function y(d,n){if(d&&n){if(G(d.length))return void U(d,function(a){y(a,n)});if(d.classList)return void d.classList.add(n);var l=d.className.trim();l?l.indexOf(n)<0&&(d.className="".concat(l," ").concat(n)):d.className=n}}function R(d,n){if(d&&n){if(G(d.length))return void U(d,function(l){R(l,n)});if(d.classList)return void d.classList.remove(n);d.className.indexOf(n)>=0&&(d.className=d.className.replace(n,""))}}function Ee(d,n,l){if(n){if(G(d.length))return void U(d,function(a){Ee(a,n,l)});l?y(d,n):R(d,n)}}var Ht=/([a-z\d])([A-Z])/g;function nt(d){return d.replace(Ht,"$1-$2").toLowerCase()}function Se(d,n){return ke(d[n])?d[n]:d.dataset?d.dataset[n]:d.getAttribute("data-".concat(nt(n)))}function rt(d,n,l){ke(l)?d[n]=l:d.dataset?d.dataset[n]=l:d.setAttribute("data-".concat(nt(n)),l)}var It=function(){var d=!1;if(Me){var n=!1,l=function(){},a=Object.defineProperty({},"once",{get:function(){return d=!0,n},set:function(g){n=g}});ue.addEventListener("test",l,a),ue.removeEventListener("test",l,a)}return d}();function B(d,n,l){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=l;n.trim().split(ot).forEach(function(g){if(!It){var m=d.listeners;m&&m[g]&&m[g][l]&&(u=m[g][l],delete m[g][l],0===Object.keys(m[g]).length&&delete m[g],0===Object.keys(m).length&&delete d.listeners)}d.removeEventListener(g,u,a)})}function x(d,n,l){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=l;n.trim().split(ot).forEach(function(g){if(a.once&&!It){var m=d.listeners,_=void 0===m?{}:m;u=function(){delete _[g][l],d.removeEventListener(g,u,a);for(var f=arguments.length,A=new Array(f),Z=0;Z<f;Z++)A[Z]=arguments[Z];l.apply(d,A)},_[g]||(_[g]={}),_[g][l]&&d.removeEventListener(g,_[g][l],a),_[g][l]=u,d.listeners=_}d.addEventListener(g,u,a)})}function K(d,n,l,a){var u;return Y(Event)&&Y(CustomEvent)?u=new CustomEvent(n,v({bubbles:!0,cancelable:!0,detail:l},a)):(u=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,l),d.dispatchEvent(u)}function Bt(d){var n=d.getBoundingClientRect();return{left:n.left+(window.pageXOffset-document.documentElement.clientLeft),top:n.top+(window.pageYOffset-document.documentElement.clientTop)}}function Ve(d){var n=d.rotate,l=d.scaleX,a=d.scaleY,u=d.translateX,g=d.translateY,m=[];G(u)&&0!==u&&m.push("translateX(".concat(u,"px)")),G(g)&&0!==g&&m.push("translateY(".concat(g,"px)")),G(n)&&0!==n&&m.push("rotate(".concat(n,"deg)")),G(l)&&1!==l&&m.push("scaleX(".concat(l,")")),G(a)&&1!==a&&m.push("scaleY(".concat(a,")"));var _=m.length?m.join(" "):"none";return{WebkitTransform:_,msTransform:_,transform:_}}var st=ue.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(ue.navigator.userAgent);function kt(d,n,l){var a=document.createElement("img");if(d.naturalWidth&&!st)return l(d.naturalWidth,d.naturalHeight),a;var u=document.body||document.documentElement;return a.onload=function(){l(a.width,a.height),st||u.removeChild(a)},U(n.inheritedAttributes,function(g){var m=d.getAttribute(g);null!==m&&a.setAttribute(g,m)}),a.src=d.src,st||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",u.appendChild(a)),a}function Ue(d){switch(d){case 2:return Mt;case 3:return Pt;case 4:return de;default:return""}}function je(d,n){var l=d.pageX,a=d.pageY,u={endX:l,endY:a};return n?u:v({timeStamp:Date.now(),startX:l,startY:a},u)}function zt(d){var n=0,l=0,a=0;return U(d,function(u){n+=u.startX,l+=u.startY,a+=1}),{pageX:n/=a,pageY:l/=a}}var d,Vt={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var n=this.element.ownerDocument,l=n.body||n.documentElement;this.body=l,this.scrollbarWidth=window.innerWidth-n.documentElement.clientWidth,this.initialBodyPaddingRight=l.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(l).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var a,n=this.options,l=this.parent;n.inline&&(a={width:Math.max(l.offsetWidth,n.minWidth),height:Math.max(l.offsetHeight,n.minHeight)},this.parentData=a),(this.fulled||!a)&&(a=this.containerData),this.viewerData=ae({},a)},renderViewer:function(){this.options.inline&&!this.fulled&&pe(this.viewer,this.viewerData)},initList:function(){var n=this,l=this.element,a=this.options,u=this.list,g=[];u.innerHTML="",U(this.images,function(m,_){var T=m.src,f=m.alt||function(d){return Oe(d)?decodeURIComponent(d.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}(T),A=n.getImageURL(m);if(T||A){var Z=document.createElement("li"),J=document.createElement("img");U(a.inheritedAttributes,function(X){var O=m.getAttribute(X);null!==O&&J.setAttribute(X,O)}),J.src=T||A,J.alt=f,J.setAttribute("data-original-url",A||T),Z.setAttribute("data-index",_),Z.setAttribute("data-viewer-action","view"),Z.setAttribute("role","button"),a.keyboard&&Z.setAttribute("tabindex",0),Z.appendChild(J),u.appendChild(Z),g.push(Z)}}),this.items=g,U(g,function(m){var T,f,_=m.firstElementChild;rt(_,"filled",!0),a.loading&&y(m,ye),x(_,ne,T=function(Z){B(_,me,f),a.loading&&R(m,ye),n.loadImage(Z)},{once:!0}),x(_,me,f=function(){B(_,ne,T),a.loading&&R(m,ye)},{once:!0})}),a.transition&&x(l,Je,function(){y(u,h)},{once:!0})},renderList:function(){var n=this.index,l=this.items[n];if(l){var u=parseInt(window.getComputedStyle(l.nextElementSibling||l).marginLeft,10),g=l.offsetWidth,m=g+u;pe(this.list,ae({width:m*this.length-u},Ve({translateX:(this.viewerData.width-g)/2-m*n})))}},resetList:function(){var n=this.list;n.innerHTML="",R(n,h),pe(n,Ve({translateX:0}))},initImage:function(n){var A,l=this,a=this.options,u=this.image,g=this.viewerData,m=this.footer.offsetHeight,_=g.width,T=Math.max(g.height-m,m),f=this.imageData||{};this.imageInitializing={abort:function(){A.onload=null}},A=kt(u,a,function(Z,J){var X=Z/J,O=_,ce=T;l.imageInitializing=!1,T*X>_?ce=_/X:O=T*X,O=Math.min(.9*O,Z),ce=Math.min(.9*ce,J);var le=(_-O)/2,ie=(T-ce)/2,E={left:le,top:ie,x:le,y:ie,width:O,height:ce,oldRatio:1,ratio:O/Z,aspectRatio:X,naturalWidth:Z,naturalHeight:J},V=ae({},E);a.rotatable&&(E.rotate=f.rotate||0,V.rotate=0),a.scalable&&(E.scaleX=f.scaleX||1,E.scaleY=f.scaleY||1,V.scaleX=1,V.scaleY=1),l.imageData=E,l.initialImageData=V,n&&n()})},renderImage:function(n){var l=this,a=this.image,u=this.imageData;if(pe(a,ae({width:u.width,height:u.height,marginLeft:u.x,marginTop:u.y},Ve(u))),n)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&De(a,h)){var g=function(){l.imageRendering=!1,n()};this.imageRendering={abort:function(){B(a,re,g)}},x(a,re,g,{once:!0})}else n()},resetImage:function(){if(this.viewing||this.viewed){var n=this.image;this.viewing&&this.viewing.abort(),n.parentNode.removeChild(n),this.image=null}}},Te={bind:function(){var n=this.options,l=this.viewer,a=this.canvas,u=this.element.ownerDocument;x(l,Q,this.onClick=this.click.bind(this)),x(l,gt,this.onDragStart=this.dragstart.bind(this)),x(a,ht,this.onPointerDown=this.pointerdown.bind(this)),x(u,fe,this.onPointerMove=this.pointermove.bind(this)),x(u,Ze,this.onPointerUp=this.pointerup.bind(this)),x(u,S,this.onKeyDown=this.keydown.bind(this)),x(window,D,this.onResize=this.resize.bind(this)),n.zoomable&&n.zoomOnWheel&&x(l,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleOnDblclick&&x(a,tt,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var n=this.options,l=this.viewer,a=this.canvas,u=this.element.ownerDocument;B(l,Q,this.onClick),B(l,gt,this.onDragStart),B(a,ht,this.onPointerDown),B(u,fe,this.onPointerMove),B(u,Ze,this.onPointerUp),B(u,S,this.onKeyDown),B(window,D,this.onResize),n.zoomable&&n.zoomOnWheel&&B(l,"wheel",this.onWheel,{passive:!1,capture:!0}),n.toggleOnDblclick&&B(a,tt,this.onDblclick)}},jt={click:function(n){var l=this.options,a=this.imageData,u=n.target,g=Se(u,$e);switch(!g&&"img"===u.localName&&"li"===u.parentElement.localName&&(g=Se(u=u.parentElement,$e)),e&&n.isTrusted&&u===this.canvas&&clearTimeout(this.clickCanvasTimeout),g){case"mix":this.played?this.stop():l.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(Se(u,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(l.loop);break;case"play":this.play(l.fullscreen);break;case"next":this.next(l.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-a.scaleX||-1);break;case"flip-vertical":this.scaleY(-a.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(n){n.preventDefault(),this.viewed&&n.target===this.image&&(e&&n.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(n.isTrusted?n:n.detail&&n.detail.originalEvent))},load:function(){var n=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var l=this.element,a=this.options,u=this.image,g=this.index,m=this.viewerData;R(u,Qe),a.loading&&R(this.canvas,ye),u.style.cssText="height:0;"+"margin-left:".concat(m.width/2,"px;")+"margin-top:".concat(m.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Ee(u,Qt,a.movable),Ee(u,h,a.transition),n.renderImage(function(){n.viewed=!0,n.viewing=!1,Y(a.viewed)&&x(l,Je,a.viewed,{once:!0}),K(l,Je,{originalImage:n.images[g],index:g,image:u},{cancelable:!1})})})},loadImage:function(n){var l=n.target,a=l.parentNode,u=a.offsetWidth||30,g=a.offsetHeight||50,m=!!Se(l,"filled");kt(l,this.options,function(_,T){var f=_/T,A=u,Z=g;g*f>u?m?A=g*f:Z=u/f:m?Z=u/f:A=g*f,pe(l,ae({width:A,height:Z},Ve({translateX:(u-A)/2,translateY:(g-Z)/2})))})},keydown:function(n){var l=this.options;if(l.keyboard){var a=n.keyCode||n.which||n.charCode;switch(a){case 13:this.viewer.contains(n.target)&&this.click(n)}if(this.fulled)switch(a){case 27:this.played?this.stop():l.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(l.loop);break;case 38:n.preventDefault(),this.zoom(l.zoomRatio,!0);break;case 39:this.next(l.loop);break;case 40:n.preventDefault(),this.zoom(-l.zoomRatio,!0);break;case 48:case 49:n.ctrlKey&&(n.preventDefault(),this.toggle())}}},dragstart:function(n){"img"===n.target.localName&&n.preventDefault()},pointerdown:function(n){var l=this.options,a=this.pointers,u=n.buttons,g=n.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===n.type||"pointerdown"===n.type&&"mouse"===n.pointerType)&&(G(u)&&1!==u||G(g)&&0!==g||n.ctrlKey))){n.preventDefault(),n.changedTouches?U(n.changedTouches,function(_){a[_.identifier]=je(_)}):a[n.pointerId||0]=je(n);var m=!!l.movable&&H;l.zoomOnTouch&&l.zoomable&&Object.keys(a).length>1?m=M:l.slideOnTouch&&("touch"===n.pointerType||"touchstart"===n.type)&&this.isSwitchable()&&(m=P),l.transition&&(m===H||m===M)&&R(this.image,h),this.action=m}},pointermove:function(n){var l=this.pointers;!this.viewed||!this.action||(n.preventDefault(),n.changedTouches?U(n.changedTouches,function(u){ae(l[u.identifier]||{},je(u,!0))}):ae(l[n.pointerId||0]||{},je(n,!0)),this.change(n))},pointerup:function(n){var m,l=this,a=this.options,u=this.action,g=this.pointers;n.changedTouches?U(n.changedTouches,function(_){m=g[_.identifier],delete g[_.identifier]}):(m=g[n.pointerId||0],delete g[n.pointerId||0]),u&&(n.preventDefault(),a.transition&&(u===H||u===M)&&y(this.image,h),this.action=!1,e&&u!==M&&m&&Date.now()-m.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),a.toggleOnDblclick&&this.viewed&&n.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){K(l.image,tt,{originalEvent:n})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){l.imageClicked=!1},500)):(this.imageClicked=!1,a.backdrop&&"static"!==a.backdrop&&n.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){K(l.canvas,Q,{originalEvent:n})},50)))))},resize:function(){var n=this;if(this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){n.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();U(this.player.getElementsByTagName("img"),function(l){x(l,ne,n.loadImage.bind(n),{once:!0}),K(l,ne)})}},wheel:function(n){var l=this;if(this.viewed&&(n.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){l.wheeling=!1},50);var a=Number(this.options.zoomRatio)||.1,u=1;n.deltaY?u=n.deltaY>0?1:-1:n.wheelDelta?u=-n.wheelDelta/120:n.detail&&(u=n.detail>0?1:-1),this.zoom(-u*a,!0,n)}}},Xt={show:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=this.element,a=this.options;if(a.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(n),this;if(Y(a.show)&&x(l,Ce,a.show,{once:!0}),!1===K(l,Ce)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var u=this.viewer;if(R(u,N),u.setAttribute("role","dialog"),u.setAttribute("aria-labelledby",this.title.id),u.setAttribute("aria-modal",!0),u.removeAttribute("aria-hidden"),a.transition&&!n){var g=this.shown.bind(this);this.transitioning={abort:function(){B(u,re,g),R(u,ge)}},y(u,h),u.initialOffsetWidth=u.offsetWidth,x(u,re,g,{once:!0}),y(u,ge)}else y(u,ge),this.shown();return this},hide:function(){var n=this,l=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.element,u=this.options;if(u.inline||this.hiding||!this.isShown&&!this.showing)return this;if(Y(u.hide)&&x(a,_t,u.hide,{once:!0}),!1===K(a,_t))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var g=this.viewer,m=this.image,_=function(){R(g,ge),n.hidden()};if(u.transition&&!l){var T=function A(Z){Z&&Z.target===g&&(B(g,re,A),n.hidden())},f=function(){De(g,h)?(x(g,re,T),R(g,ge)):_()};this.transitioning={abort:function(){n.viewed&&De(m,h)?B(m,re,f):De(g,h)&&B(g,re,T)}},this.viewed&&De(m,h)?(x(m,re,f,{once:!0}),this.zoomTo(0,!1,null,!0)):f()}else _();return this},view:function(){var n=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(l=Number(l)||0,this.hiding||this.played||l<0||l>=this.length||this.viewed&&l===this.index)return this;if(!this.isShown)return this.index=l,this.show();this.viewing&&this.viewing.abort();var a=this.element,u=this.options,g=this.title,m=this.canvas,_=this.items[l],T=_.querySelector("img"),f=Se(T,"originalUrl"),A=T.getAttribute("alt"),Z=document.createElement("img");if(U(u.inheritedAttributes,function(le){var ie=T.getAttribute(le);null!==ie&&Z.setAttribute(le,ie)}),Z.src=f,Z.alt=A,Y(u.view)&&x(a,ft,u.view,{once:!0}),!1===K(a,ft,{originalImage:this.images[l],index:l,image:Z})||!this.isShown||this.hiding||this.played)return this;var J=this.items[this.index];J&&(R(J,ee),J.removeAttribute("aria-selected")),y(_,ee),_.setAttribute("aria-selected",!0),u.focus&&_.focus(),this.image=Z,this.viewed=!1,this.index=l,this.imageData={},y(Z,Qe),u.loading&&y(m,ye),m.innerHTML="",m.appendChild(Z),this.renderList(),g.innerHTML="";var O,ce,X=function(){var ie=n.imageData,E=Array.isArray(u.title)?u.title[1]:u.title;g.innerHTML=Lt(Y(E)?E.call(n,Z,ie):"".concat(A," (").concat(ie.naturalWidth," \xd7 ").concat(ie.naturalHeight,")"))};return x(a,Je,X,{once:!0}),this.viewing={abort:function(){B(a,Je,X),Z.complete?n.imageRendering?n.imageRendering.abort():n.imageInitializing&&n.imageInitializing.abort():(Z.src="",B(Z,ne,O),n.timeout&&clearTimeout(n.timeout))}},Z.complete?this.load():(x(Z,ne,O=function(){B(Z,me,ce),n.load()},{once:!0}),x(Z,me,ce=function(){B(Z,ne,O),n.timeout&&(clearTimeout(n.timeout),n.timeout=!1),R(Z,Qe),u.loading&&R(n.canvas,ye)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){R(Z,Qe),n.timeout=!1},1e3)),this},prev:function(){var l=this.index-1;return l<0&&(l=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.length-1:0),this.view(l),this},next:function(){var l=this.length-1,a=this.index+1;return a>l&&(a=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?0:l),this.view(a),this},move:function(n){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a=this.imageData;return this.moveTo(Ie(n)?n:a.x+Number(n),Ie(l)?l:a.y+Number(l)),this},moveTo:function(n){var l=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,g=this.element,m=this.options,_=this.imageData;if(n=Number(n),a=Number(a),this.viewed&&!this.played&&m.movable){var T=_.x,f=_.y,A=!1;if(G(n)?A=!0:n=T,G(a)?A=!0:a=f,A){if(Y(m.move)&&x(g,vt,m.move,{once:!0}),!1===K(g,vt,{x:n,y:a,oldX:T,oldY:f,originalEvent:u}))return this;_.x=n,_.y=a,_.left=n,_.top=a,this.moving=!0,this.renderImage(function(){l.moving=!1,Y(m.moved)&&x(g,wt,m.moved,{once:!0}),K(g,wt,{x:n,y:a,oldX:T,oldY:f,originalEvent:u},{cancelable:!1})})}}return this},rotate:function(n){return this.rotateTo((this.imageData.rotate||0)+Number(n)),this},rotateTo:function(n){var l=this,a=this.element,u=this.options,g=this.imageData;if(G(n=Number(n))&&this.viewed&&!this.played&&u.rotatable){var m=g.rotate;if(Y(u.rotate)&&x(a,"rotate",u.rotate,{once:!0}),!1===K(a,"rotate",{degree:n,oldDegree:m}))return this;g.rotate=n,this.rotating=!0,this.renderImage(function(){l.rotating=!1,Y(u.rotated)&&x(a,bt,u.rotated,{once:!0}),K(a,bt,{degree:n,oldDegree:m},{cancelable:!1})})}return this},scaleX:function(n){return this.scale(n,this.imageData.scaleY),this},scaleY:function(n){return this.scale(this.imageData.scaleX,n),this},scale:function(n){var l=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,u=this.element,g=this.options,m=this.imageData;if(n=Number(n),a=Number(a),this.viewed&&!this.played&&g.scalable){var _=m.scaleX,T=m.scaleY,f=!1;if(G(n)?f=!0:n=_,G(a)?f=!0:a=T,f){if(Y(g.scale)&&x(u,Tt,g.scale,{once:!0}),!1===K(u,Tt,{scaleX:n,scaleY:a,oldScaleX:_,oldScaleY:T}))return this;m.scaleX=n,m.scaleY=a,this.scaling=!0,this.renderImage(function(){l.scaling=!1,Y(g.scaled)&&x(u,At,g.scaled,{once:!0}),K(u,At,{scaleX:n,scaleY:a,oldScaleX:_,oldScaleY:T},{cancelable:!1})})}}return this},zoom:function(n){var l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=this.imageData;return n=Number(n),this.zoomTo(u.width*(n=n<0?1/(1-n):1+n)/u.naturalWidth,l,a),this},zoomTo:function(n){var l=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,g=arguments.length>3&&void 0!==arguments[3]&&arguments[3],m=this.element,_=this.options,T=this.pointers,f=this.imageData,A=f.x,Z=f.y,J=f.width,X=f.height,O=f.naturalWidth,ce=f.naturalHeight;if(G(n=Math.max(0,n))&&this.viewed&&!this.played&&(g||_.zoomable)){if(!g){var le=Math.max(.01,_.minZoomRatio),ie=Math.min(100,_.maxZoomRatio);n=Math.min(Math.max(n,le),ie)}if(u)switch(u.type){case"wheel":_.zoomRatio>=.055&&n>.95&&n<1.05&&(n=1);break;case"pointermove":case"touchmove":case"mousemove":n>.99&&n<1.01&&(n=1)}var E=O*n,V=ce*n,We=E-J,Ne=V-X,he=f.ratio;if(Y(_.zoom)&&x(m,qt,_.zoom,{once:!0}),!1===K(m,qt,{ratio:n,oldRatio:he,originalEvent:u}))return this;if(this.zooming=!0,u){var Re=Bt(this.viewer),Le=T&&Object.keys(T).length>0?zt(T):{pageX:u.pageX,pageY:u.pageY};f.x-=We*((Le.pageX-Re.left-A)/J),f.y-=Ne*((Le.pageY-Re.top-Z)/X)}else f.x-=We/2,f.y-=Ne/2;f.left=f.x,f.top=f.y,f.width=E,f.height=V,f.oldRatio=he,f.ratio=n,this.renderImage(function(){l.zooming=!1,Y(_.zoomed)&&x(m,yt,_.zoomed,{once:!0}),K(m,yt,{ratio:n,oldRatio:he,originalEvent:u},{cancelable:!1})}),a&&this.tooltip()}return this},play:function(){var n=this,l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var a=this.element,u=this.options;if(Y(u.play)&&x(a,xt,u.play,{once:!0}),!1===K(a,xt))return this;var g=this.player,m=this.loadImage.bind(this),_=[],T=0,f=0;return this.played=!0,this.onLoadWhenPlay=m,l&&this.requestFullscreen(l),y(g,xe),U(this.items,function(Z,J){var X=Z.querySelector("img"),O=document.createElement("img");O.src=Se(X,"originalUrl"),O.alt=X.getAttribute("alt"),O.referrerPolicy=X.referrerPolicy,T+=1,y(O,$),Ee(O,h,u.transition),De(Z,ee)&&(y(O,ge),f=J),_.push(O),x(O,ne,m,{once:!0}),g.appendChild(O)}),G(u.interval)&&u.interval>0&&T>1&&function Z(){n.playing=setTimeout(function(){R(_[f],ge),y(_[f=(f+=1)<T?f:0],ge),Z()},u.interval)}(),this},stop:function(){var n=this;if(!this.played)return this;var l=this.element,a=this.options;if(Y(a.stop)&&x(l,"stop",a.stop,{once:!0}),!1===K(l,"stop"))return this;var u=this.player;return this.played=!1,clearTimeout(this.playing),U(u.getElementsByTagName("img"),function(g){B(g,ne,n.onLoadWhenPlay)}),R(u,xe),u.innerHTML="",this.exitFullscreen(),this},full:function(){var n=this,l=this.options,a=this.viewer,u=this.image,g=this.list;return!this.isShown||this.played||this.fulled||!l.inline||(this.fulled=!0,this.open(),y(this.button,et),l.transition&&(R(g,h),this.viewed&&R(u,h)),y(a,Ae),a.setAttribute("role","dialog"),a.setAttribute("aria-labelledby",this.title.id),a.setAttribute("aria-modal",!0),a.removeAttribute("style"),pe(a,{zIndex:l.zIndex}),l.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=ae({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){n.renderImage(function(){l.transition&&setTimeout(function(){y(u,h),y(g,h)},0)})})),this},exit:function(){var n=this,l=this.options,a=this.viewer,u=this.image,g=this.list;return this.isShown&&!this.played&&this.fulled&&l.inline?(this.fulled=!1,this.close(),R(this.button,et),l.transition&&(R(g,h),this.viewed&&R(u,h)),l.focus&&this.clearEnforceFocus(),a.removeAttribute("role"),a.removeAttribute("aria-labelledby"),a.removeAttribute("aria-modal"),R(a,Ae),pe(a,{zIndex:l.zIndexInline}),this.viewerData=ae({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){n.renderImage(function(){l.transition&&setTimeout(function(){y(u,h),y(g,h)},0)})}),this):this},tooltip:function(){var n=this,l=this.options,a=this.tooltipBox;return this.viewed&&!this.played&&l.tooltip?(a.textContent="".concat(Math.round(100*this.imageData.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):l.transition?(this.fading&&K(a,re),y(a,xe),y(a,$),y(a,h),a.removeAttribute("aria-hidden"),a.initialOffsetWidth=a.offsetWidth,y(a,ge)):(y(a,xe),a.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){l.transition?(x(a,re,function(){R(a,xe),R(a,$),R(a,h),a.setAttribute("aria-hidden",!0),n.fading=!1},{once:!0}),R(a,ge),n.fading=!0):(R(a,xe),a.setAttribute("aria-hidden",!0)),n.tooltipping=!1},1e3),this):this},toggle:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.zoomTo(1===this.imageData.ratio?this.imageData.oldRatio:1,!0,n),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=ae({},this.initialImageData),this.renderImage()),this},update:function(){var n=this,l=this.element,a=this.options,u=this.isImg;if(u&&!l.parentNode)return this.destroy();var g=[];if(U(u?[l]:l.querySelectorAll("img"),function(f){Y(a.filter)?a.filter.call(n,f)&&g.push(f):n.getImageURL(f)&&g.push(f)}),!g.length)return this;if(this.images=g,this.length=g.length,this.ready){var m=[];if(U(this.items,function(f,A){var Z=f.querySelector("img"),J=g[A];J&&Z?(J.src!==Z.src||J.alt!==Z.alt)&&m.push(A):m.push(A)}),pe(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var _=m.indexOf(this.index);if(_>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-_,this.length-1),0));else{var T=this.items[this.index];y(T,ee),T.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var n=this.element,l=this.options;return n[q]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),l.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):l.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),l.inline||B(n,Q,this.onStart),n[q]=void 0,this):this}},lt={getImageURL:function(n){var l=this.options.url;return Oe(l)?n.getAttribute(l):Y(l)?l.call(this,n):""},enforceFocus:function(){var n=this;this.clearEnforceFocus(),x(document,it,this.onFocusin=function(l){var a=n.viewer,u=l.target;u!==document&&u!==a&&!a.contains(u)&&(null===u.getAttribute("tabindex")||"true"!==u.getAttribute("aria-modal"))&&a.focus()})},clearEnforceFocus:function(){this.onFocusin&&(B(document,it,this.onFocusin),this.onFocusin=null)},open:function(){var n=this.body;y(n,pt),n.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var n=this.body;R(n,pt),n.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var n=this.element,l=this.options,a=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,l.focus&&(a.focus(),this.enforceFocus()),Y(l.shown)&&x(n,W,l.shown,{once:!0}),!1!==K(n,W)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var n=this.element,l=this.options,a=this.viewer;l.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),y(a,N),a.removeAttribute("role"),a.removeAttribute("aria-labelledby"),a.removeAttribute("aria-modal"),a.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(Y(l.hidden)&&x(n,"hidden",l.hidden,{once:!0}),K(n,"hidden",null,{cancelable:!1}))},requestFullscreen:function(n){var l=this.element.ownerDocument;if(this.fulled&&!(l.fullscreenElement||l.webkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement)){var a=l.documentElement;a.requestFullscreen?Fe(n)?a.requestFullscreen(n):a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()}},exitFullscreen:function(){var n=this.element.ownerDocument;this.fulled&&(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)&&(n.exitFullscreen?n.exitFullscreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.msExitFullscreen&&n.msExitFullscreen())},change:function(n){var l=this.options,a=this.pointers,u=a[Object.keys(a)[0]];if(u){var g=u.endX-u.startX,m=u.endY-u.startY;switch(this.action){case H:this.move(g,m,n);break;case M:this.zoom(function(d){var n=v({},d),l=[];return U(d,function(a,u){delete n[u],U(n,function(g){var m=Math.abs(a.startX-g.startX),_=Math.abs(a.startY-g.startY),T=Math.abs(a.endX-g.endX),f=Math.abs(a.endY-g.endY),A=Math.sqrt(m*m+_*_),Z=Math.sqrt(T*T+f*f);l.push((Z-A)/A)})}),l.sort(function(a,u){return Math.abs(a)<Math.abs(u)}),l[0]}(a),!1,n);break;case P:this.action="switched";var _=Math.abs(g);_>1&&_>Math.abs(m)&&(this.pointers={},g>1?this.prev(l.loop):g<-1&&this.next(l.loop))}U(a,function(T){T.startX=T.endX,T.startY=T.endY})}},isSwitchable:function(){var n=this.imageData,l=this.viewerData;return this.length>1&&n.x>=0&&n.y>=0&&n.width<=l.width&&n.height<=l.height}},Xe=ue.Viewer,Wt=(d=-1,function(){return d+=1}),Dt=function(){function d(n){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Be(this,d),!n||1!==n.nodeType)throw new Error("The first argument is required and must be an element.");this.element=n,this.options=ae({},L,Fe(l)&&l),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=Wt(),this.init()}return function(d,n,l){n&&F(d.prototype,n),l&&F(d,l),Object.defineProperty(d,"prototype",{writable:!1})}(d,[{key:"init",value:function(){var l=this,a=this.element,u=this.options;if(!a[q]){a[q]=this,u.focus&&!u.keyboard&&(u.focus=!1);var g="img"===a.localName,m=[];if(U(g?[a]:a.querySelectorAll("img"),function(f){Y(u.filter)?u.filter.call(l,f)&&m.push(f):l.getImageURL(f)&&m.push(f)}),this.isImg=g,this.length=m.length,this.images=m,this.initBody(),Ie(document.createElement(q).style.transition)&&(u.transition=!1),u.inline){var _=0,T=function(){var A;(_+=1)===l.length&&(l.initializing=!1,l.delaying={abort:function(){clearTimeout(A)}},A=setTimeout(function(){l.delaying=!1,l.build()},0))};this.initializing={abort:function(){U(m,function(A){A.complete||B(A,ne,T)})}},U(m,function(f){f.complete?T():x(f,ne,T,{once:!0})})}else x(a,Q,this.onStart=function(f){var A=f.target;"img"===A.localName&&(!Y(u.filter)||u.filter.call(l,A))&&l.view(l.images.indexOf(A))})}}},{key:"build",value:function(){if(!this.ready){var l=this.element,a=this.options,u=l.parentNode,g=document.createElement("div");g.innerHTML='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>';var m=g.querySelector(".".concat(q,"-container")),_=m.querySelector(".".concat(q,"-title")),T=m.querySelector(".".concat(q,"-toolbar")),f=m.querySelector(".".concat(q,"-navbar")),A=m.querySelector(".".concat(q,"-button")),Z=m.querySelector(".".concat(q,"-canvas"));if(this.parent=u,this.viewer=m,this.title=_,this.toolbar=T,this.navbar=f,this.button=A,this.canvas=Z,this.footer=m.querySelector(".".concat(q,"-footer")),this.tooltipBox=m.querySelector(".".concat(q,"-tooltip")),this.player=m.querySelector(".".concat(q,"-player")),this.list=m.querySelector(".".concat(q,"-list")),m.id="".concat(q).concat(this.id),_.id="".concat(q,"Title").concat(this.id),y(_,a.title?Ue(Array.isArray(a.title)?a.title[0]:a.title):N),y(f,a.navbar?Ue(a.navbar):N),Ee(A,N,!a.button),a.keyboard&&A.setAttribute("tabindex",0),a.backdrop&&(y(m,"".concat(q,"-backdrop")),!a.inline&&"static"!==a.backdrop&&rt(Z,$e,"hide")),Oe(a.className)&&a.className&&a.className.split(ot).forEach(function(V){y(m,V)}),a.toolbar){var J=document.createElement("ul"),X=Fe(a.toolbar),O=ze.slice(0,3),ce=ze.slice(7,9),le=ze.slice(9);X||y(T,Ue(a.toolbar)),U(X?a.toolbar:ze,function(V,We){var Ne=X&&Fe(V),he=X?nt(We):V,Re=Ne&&!Ie(V.show)?V.show:V;if(Re&&(a.zoomable||-1===O.indexOf(he))&&(a.rotatable||-1===ce.indexOf(he))&&(a.scalable||-1===le.indexOf(he))){var Le=Ne&&!Ie(V.size)?V.size:V,ct=Ne&&!Ie(V.click)?V.click:V,ve=document.createElement("li");a.keyboard&&ve.setAttribute("tabindex",0),ve.setAttribute("role","button"),y(ve,"".concat(q,"-").concat(he)),Y(ct)||rt(ve,$e,he),G(Re)&&y(ve,Ue(Re)),-1!==["small","large"].indexOf(Le)?y(ve,"".concat(q,"-").concat(Le)):"play"===he&&y(ve,"".concat(q,"-large")),Y(ct)&&x(ve,Q,ct),J.appendChild(ve)}}),T.appendChild(J)}else y(T,N);if(!a.rotatable){var ie=T.querySelectorAll('li[class*="rotate"]');y(ie,Qe),U(ie,function(V){T.appendChild(V)})}if(a.inline)y(A,z),pe(m,{zIndex:a.zIndexInline}),"static"===window.getComputedStyle(u).position&&pe(u,{position:"relative"}),u.insertBefore(m,l.nextSibling);else{y(A,Rt),y(m,Ae),y(m,$),y(m,N),pe(m,{zIndex:a.zIndex});var E=a.container;Oe(E)&&(E=l.ownerDocument.querySelector(E)),E||(E=this.body),E.appendChild(m)}if(a.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Y(a.ready)&&x(l,C,a.ready,{once:!0}),!1===K(l,C))return void(this.ready=!1);this.ready&&a.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=Xe,d}},{key:"setDefaults",value:function(l){ae(L,Fe(l)&&l)}}]),d}();return ae(Dt.prototype,Vt,Te,jt,Xt,lt),Dt}()},4014:(ei,He,v)=>{"use strict";v.r(He),v.d(He,{QuestionMarketModule:()=>Nn});var k=v(8583),Be=v(3017),F=v(1095),te=v(3935),oe=v(3738),L=v(8007),Nt=v(3551),Me=v(3690),ue=v(7746),e=v(7716);let Ge=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[k.ez,Me.D,Nt.e,L.Bz,F.ot,oe.QW,te.Tx,ue.ie]]}),i})();var q=v(5072),H=v(9765),P=v(6782),M=v(6888),ee=v(9328),Rt=v(5855),$=v(2587),Ae=v(2340),z=v(3065),et=v(6215);let N=(()=>{class i{constructor(){this.questionmarketinfo$=new et.X(void 0),this.openRightSideBar=!1,this.openLeftSideBar=!1,this.isMobile=!1,this.isLargeScreen=!1,this.choosed_cat$=new H.xQ,this.choosed_editpost$=new H.xQ,this.allquestions$=new et.X([]),this.marketpplace={choosed_area:null,choosed_cat:null},this.addquestionproduct={area_ID:null,product_avatar:"",productimgs:[],answer_imgs:[],cdnfolder:"",slideratio:5,addoredit:!0,editpost_ID:null,current_productlist:null},this.quillModule={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var de=v(110),Pt=v(2128);function Mt(i,s){if(1&i&&(e.TgZ(0,"mat-list-option",6),e.TgZ(1,"div",1),e._UZ(2,"div",7),e.TgZ(3,"div",8),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&i){const t=s.$implicit;e.Q6J("routerLink",t.url),e.xp6(2),e.Q6J("innerHTML",t.icon,e.oJD),e.xp6(2),e.hij(" ",t.name," ")}}let ge=(()=>{class i{constructor(){this.items=Pt.w}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-left-sidebar"]],decls:6,vars:2,consts:[[1,"container","bg-white",2,"min-height","100vh"],[1,"row"],[1,"col"],[3,"multiple"],["shoes",""],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"col-auto","h5","m-0",3,"innerHTML"],[1,"col","p-0"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"mat-selection-list",3,4),e.YNc(5,Mt,5,3,"mat-list-option",5),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("multiple",!1),e.xp6(2),e.Q6J("ngForOf",o.items))},directives:[ue.Ub,k.sg,ue.vS,L.rH],styles:[""]}),i})();var Qe=v(7130);let ye=(()=>{class i{constructor(t){this.localService=t}ngOnInit(){}toggleRightSidebar(){this.localService.openRightSideBar=!this.localService.openRightSideBar}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-right-sidebar"]],decls:8,vars:0,consts:[[1,"container","p-0",2,"height","100%"],[1,"row","align-items-center",2,"height","100%"],[1,"col",2,"height","fit-content"],[1,"row","py-3"],[1,"col","text-end"],["mat-raised-button","",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"app-server-chat-card"),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.toggleRightSidebar()}),e._uU(7," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA())},directives:[Qe.K,F.lW],styles:[""]}),i})();var Qt=v(8873);let pt=(()=>{class i{constructor(t){this.localService=t}ngOnInit(){}toggleRightSidebar(){this.localService.openLeftSideBar=!1,this.localService.openRightSideBar=!this.localService.openRightSideBar}toggleLeftSidebar(){this.localService.openRightSideBar=!1,this.localService.openLeftSideBar=!this.localService.openLeftSideBar}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-header"]],decls:15,vars:2,consts:[[1,"container-fluid","py-2","sticky-top","bg-white"],[1,"row","justify-content-between"],[1,"col-auto"],["mat-button","",3,"click"],[1,"fa-thin","fa-bars"],["mat-button","","routerLink","/questionmarket"],[1,"fa-thin","fa-delete-left"],[1,"fa-thin","fa-message-captions"],["mat-button","",3,"matMenuTriggerFor"],[1,"fa-thin","fa-bells"],[3,"hasBackdrop"],["usernotifications","matMenu"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return o.toggleLeftSidebar()}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"button",5),e._UZ(6,"i",6),e.qZA(),e.qZA(),e.TgZ(7,"div",2),e.TgZ(8,"button",3),e.NdJ("click",function(){return o.toggleRightSidebar()}),e._UZ(9,"i",7),e.qZA(),e.TgZ(10,"button",8),e._UZ(11,"i",9),e.qZA(),e.TgZ(12,"mat-menu",10,11),e._UZ(14,"app-user-notification-card"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const r=e.MAs(13);e.xp6(10),e.Q6J("matMenuTriggerFor",r),e.xp6(2),e.Q6J("hasBackdrop",!0)}},directives:[F.lW,L.rH,te.p6,te.VK,Qt.A],styles:["button[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:22px}"]}),i})(),xe=(()=>{class i{constructor(t,o,r,c){this.store=t,this._localService=o,this.socket=r,this.breakpointObserver=c,this.destroy$=new H.xQ}get openRightSideBar(){return this._localService.openRightSideBar}get openLeftSideBar(){return this._localService.openLeftSideBar}get isLargeScreen(){return this._localService.isLargeScreen}rightSidebarMovement(t){this._localService.openRightSideBar=t}leftSidebarMovement(t){this._localService.openLeftSideBar=t}ngOnInit(){this.store.dispatch((0,$.Kl)()),this._localService.openLeftSideBar=!1,this._localService.openRightSideBar=!1,this.store.select(Rt.s).pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t.questionmarketinfo.questionmarketinfo.product_tree)).subscribe(t=>{var o,r;this._localService.questionmarketinfo$.next(t.questionmarketinfo);let c=t.questionmarketinfo.questionmarketinfo.product_tree,p=null==c?void 0:c.map(we=>we.child_category_questionproduct),w=[];p.forEach(we=>{let Gt=we.map(mt=>mt.child_lessons).reduce((mt,Rn)=>mt.concat(Rn),[]);w.push(Gt)});let j=w.reduce((we,qe)=>we.concat(qe),[]).filter((we,qe,Gt)=>qe==Gt.findIndex(mt=>mt.ID==we.ID));this._localService.addquestionproduct.cdnfolder=Ae.N.BASE_CDN_URL+"/"+(null===(o=t.questionmarketinfo.questionmarketinfo.defaultconfig)||void 0===o?void 0:o.postimg_path),this._localService.user_img_path=Ae.N.BASE_CDN_URL+"/"+(null===(r=t.questionmarketinfo.questionmarketinfo.defaultconfig)||void 0===r?void 0:r.userimg_path);let _e=null==c?void 0:c.map(we=>we.child_category_questionproduct.map(qe=>({ID:qe.ID,category_name:qe.category_name})));this._localService.catList=null==_e?void 0:_e.reduce((we,qe)=>we.concat(qe),[]),this._localService.allquestions$.next(j)}),this.socket.on(ee.f.reloadNotifications,()=>{this.store.dispatch((0,$.Kl)())}),this.breakpointObserver.observe([q.u3.XSmall,q.u3.Small,q.u3.Medium,q.u3.Large,q.u3.XLarge]).pipe((0,P.R)(this.destroy$)).subscribe(t=>{for(const o of Object.keys(t.breakpoints))t.breakpoints[o]&&(this._localService.isMobile=!(!q.u3.XSmall.includes(o)&&!q.u3.Small.includes(o)),this._localService.isLargeScreen=!(!q.u3.Large.includes(o)&&!q.u3.XLarge.includes(o)))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.yh),e.Y36(N),e.Y36(de.sk),e.Y36(q.Yg))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-question-market-layout"]],decls:10,vars:5,consts:[["autosize","",3,"hasBackdrop"],["position","start",1,"left-sidebar",3,"opened","mode","openedChange"],["position","end",1,"right-sidebar",3,"opened","mode","openedChange"],[1,"row","py-5"],[1,"col"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-drawer-container",0),e.TgZ(1,"mat-drawer",1),e.NdJ("openedChange",function(c){return o.leftSidebarMovement(c)}),e._UZ(2,"app-left-sidebar"),e.qZA(),e.TgZ(3,"mat-drawer",2),e.NdJ("openedChange",function(c){return o.rightSidebarMovement(c)}),e._UZ(4,"app-right-sidebar"),e.qZA(),e.TgZ(5,"mat-drawer-content"),e._UZ(6,"app-header"),e.TgZ(7,"div",3),e.TgZ(8,"div",4),e._UZ(9,"router-outlet"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("hasBackdrop",!o.isLargeScreen),e.xp6(1),e.Q6J("opened",o.openLeftSideBar)("mode",o.isLargeScreen?"side":"over"),e.xp6(2),e.Q6J("opened",o.openRightSideBar)("mode",o.isLargeScreen?"side":"over"))},directives:[Be.kh,Be.jA,ge,ye,Be.LW,pt,L.lC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}mat-drawer-container[_ngcontent-%COMP%]{height:inherit}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%]{padding:.5rem;box-shadow:none;background:transparent}mat-drawer-content[_ngcontent-%COMP%]{overflow-x:hidden}.right-sidebar[_ngcontent-%COMP%], .left-sidebar[_ngcontent-%COMP%]{width:300px}"]}),i})();var h=v(665),Q=v(7001);let tt=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-particle-bg"]],decls:14,vars:0,consts:[[1,"outer"],[1,"white"],[1,"squares"],[1,"square"],[1,"grey"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"div",3),e._UZ(4,"div",3),e._UZ(5,"div",3),e._UZ(6,"div",3),e._UZ(7,"div",3),e._UZ(8,"div",3),e._UZ(9,"div",3),e._UZ(10,"div",3),e._UZ(11,"div",3),e._UZ(12,"div",3),e.qZA(),e.qZA(),e._UZ(13,"div",4),e.qZA())},styles:['.outer[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;z-index:-10}.white[_ngcontent-%COMP%]{height:100vh}.white[_ngcontent-%COMP%]:before{z-index:1000;content:"";position:absolute;top:0;left:0;right:0;height:60vh;background-image:linear-gradient(-180deg,#FFFFFF 0%,rgba(255,255,255,0) 100%)}.white[_ngcontent-%COMP%]:after{z-index:1000;content:"";position:absolute;bottom:0;left:0;right:0;height:20vh;background-image:linear-gradient(0deg,#EBEBEB 0%,rgba(235,235,235,0) 100%)}.squares[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-around;overflow:hidden}.square[_ngcontent-%COMP%]{animation:squares 9.5s linear infinite;align-self:flex-end;width:1em;height:1em;transform:translateY(100%);background:#ebebeb}.square[_ngcontent-%COMP%]:nth-child(2){height:1.5em;width:3em;animation-delay:1s;animation-duration:17s;filter:blur(5px)}.square[_ngcontent-%COMP%]:nth-child(3){height:2em;width:1em;animation-delay:1.5s;animation-duration:8s;filter:blur()}.square[_ngcontent-%COMP%]:nth-child(4){height:1em;width:1.5em;animation-delay:.5s;filter:blur(3px);animation-duration:13s}.square[_ngcontent-%COMP%]:nth-child(5){height:1.25em;width:2em;animation-delay:4s;filter:blur(2px);animation-duration:11s}.square[_ngcontent-%COMP%]:nth-child(6){height:2.5em;width:2em;animation-delay:2s;filter:blur(1px);animation-duration:9s}.square[_ngcontent-%COMP%]:nth-child(7){height:5em;width:2em;filter:blur(2.5px);animation-duration:12s}.square[_ngcontent-%COMP%]:nth-child(8){height:1em;width:3em;animation-delay:5s;filter:blur(6px);animation-duration:18s}.square[_ngcontent-%COMP%]:nth-child(9){height:1.5em;width:2em;filter:blur(.5px);animation-duration:9s}.square[_ngcontent-%COMP%]:nth-child(9){height:3em;width:2.4em;animation-delay:6s;filter:blur(.5px);animation-duration:12s}@keyframes squares{0%{transform:translateY(100%) rotate(-50deg)}to{transform:translateY(calc(-100vh + -100%)) rotate(20deg)}}']}),i})(),gt=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-neon-panel"]],decls:9,vars:0,consts:[[1,"hero"],[1,"hero__title"],[1,"cube"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"Question Market"),e.qZA(),e._UZ(3,"div",2),e._UZ(4,"div",2),e._UZ(5,"div",2),e._UZ(6,"div",2),e._UZ(7,"div",2),e._UZ(8,"div",2),e.qZA())},styles:['.hero[_ngcontent-%COMP%]{background:url(/assets/img/questionmarket/nasa-bjfdksa324.jpeg) #1c03a3 no-repeat center center/cover;position:relative;height:300px;overflow:hidden;font-family:"Montserrat",sans-serif}.hero__title[_ngcontent-%COMP%]{color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:50px;z-index:1;line-height:1em;text-align:center}.cube[_ngcontent-%COMP%]{position:absolute;top:242px;left:45vw;width:10px;height:10px;border:solid 1px rgba(33,151,172,.7098039216);transform-origin:top left;transform:scale(0) rotate(0) translate(-50%,-50%);animation:cube 12s ease-in forwards infinite}.cube[_ngcontent-%COMP%]:nth-child(2n){border-color:#4dc7dcb5}.cube[_ngcontent-%COMP%]:nth-child(2){animation-delay:2s;left:25vw;top:180px}.cube[_ngcontent-%COMP%]:nth-child(3){animation-delay:4s;left:75vw;top:54px}.cube[_ngcontent-%COMP%]:nth-child(4){animation-delay:6s;left:90vw;top:15px}.cube[_ngcontent-%COMP%]:nth-child(5){animation-delay:8s;left:10vw;top:232px}.cube[_ngcontent-%COMP%]:nth-child(6){animation-delay:10s;left:50vw;top:140px}@keyframes cube{0%{transform:scale(0) rotate(0) translate(-50%,-50%);opacity:1}to{transform:scale(20) rotate(960deg) translate(-50%,-50%);opacity:0}}']}),i})();var it=v(5834),S=v(8295),ne=v(7441),me=v(2458);function Yt(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e.TgZ(2,"p",16),e._uU(3),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.hij("Welcome, ",t.userinfo.user_name,"!")}}function Jt(i,s){if(1&i&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.ID),e.xp6(1),e.Oqu(t.area_name)}}function Ot(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",17),e.TgZ(1,"mat-label"),e._uU(2,"Choose an area"),e.qZA(),e.TgZ(3,"mat-select",18),e.YNc(4,Jt,2,2,"mat-option",19),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("formControl",t.areaselection),e.xp6(1),e.Q6J("ngForOf",t.arealist)}}let ht=(()=>{class i{constructor(t,o,r,c){this.store=t,this._localService=o,this.router=r,this._snackbar=c,this.areaselection=new h.NI(1,[h.kI.required,h.kI.pattern("^[0-9]"),h.kI.min(1)]),this.destroy$=new H.xQ}ngOnInit(){this._localService.questionmarketinfo$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t||!t.questionmarketinfo)).subscribe(t=>{const o=t.questionmarketinfo;this.userinfo=o.userinfo,this.arealist=o.product_tree})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}emitareachoosed(t){this.areaselection.valid?(this._localService.marketpplace.choosed_area=t,this.router.navigate(["/questionmarket/market"])):this._snackbar.open("Please first choose an area...","Close")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.yh),e.Y36(N),e.Y36(L.F0),e.Y36(Q.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-question-market-landing-page"]],decls:22,vars:2,consts:[[1,"container-fluid","p-0","pb-5"],[1,"row"],[1,"col-12"],["class","row py-5 text-center",4,"ngIf"],[1,"row","pb-3"],[1,"col","text-center"],["mat-raised-button","","color","primary","routerLink","/questionmarket/managequestions"],[1,"fa-thin","fa-file-plus","me-2"],[1,"col-12","col-md-6","pb-5","pb-md-0"],[1,"row","justify-content-center"],[1,"col-auto"],["appearance","outline",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"col-12","col-md-6","text-center","d-flex","justify-content-center"],[1,"row","py-5","text-center"],[1,"col"],[1,"h3"],["appearance","outline"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-particle-bg"),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._UZ(4,"app-neon-panel"),e.qZA(),e.qZA(),e.YNc(5,Yt,4,1,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"button",6),e._UZ(9,"i",7),e._uU(10,"Create new Question "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",1),e.TgZ(12,"div",8),e.TgZ(13,"div",9),e.TgZ(14,"div",10),e.YNc(15,Ot,5,2,"mat-form-field",11),e.qZA(),e.qZA(),e.TgZ(16,"div",9),e.TgZ(17,"div",10),e.TgZ(18,"button",12),e.NdJ("click",function(){return o.emitareachoosed(o.areaselection.value)}),e._uU(19," Go to market "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",13),e._UZ(21,"app-user-abi-card"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",o.userinfo),e.xp6(10),e.Q6J("ngIf",o.arealist))},directives:[tt,gt,k.O5,F.lW,L.rH,it.A,S.KE,S.hX,ne.gD,h.JJ,h.oH,k.sg,me.ey],styles:[""]}),i})();var fe=v(9112),Ze=v(9692),D=v(2789),re=v(1974),se=v(2997),C=v(2238),Ce=v(5817),W=v(9786);let _t=(()=>{class i{constructor(t,o,r,c,p,w,I){this.apollo=t,this.data=o,this.fetchApi=r,this.store=c,this.dialogRef=p,this._snackbar=w,this.socket=I}ngOnInit(){this.apollo.watchQuery({query:re.Ps`
        query shop_items {
          shop_items {
            ID,
            item_code,
            item_price,
            item_name,
            item_avatar,
            avatar_path,
            item_description
          }
        }
      `}).valueChanges.subscribe(t=>{this.heroItem=t.data.shop_items.find(r=>"RPFT"==r.item_code),this.heroItem&&(this.hero_avatar=Ae.N.BASE_CDN_URL+"/"+this.heroItem.avatar_path+this.heroItem.item_avatar)})}confirmClear(){this.fetchApi.postAPI({urlsuffix:"userconfirmclearanswerreport",body:{user_answer_ID:this.data.user_answer_ID}}).then(o=>{o.selectedUsers&&o.selectedUsers.length&&this.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:o.selectedUsers}),this.dialogRef.close(),this._snackbar.open("Cleared successfully","Close"),this.store.dispatch((0,$.Kl)())}).catch(o=>{console.log(o.error),this._snackbar.open(o.error.message,"Close")})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ce._M),e.Y36(C.WI),e.Y36(W.a),e.Y36(z.yh),e.Y36(C.so),e.Y36(Q.ux),e.Y36(de.sk))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-clear-report-box"]],decls:13,vars:1,consts:[[1,"row"],[1,"col","text-center"],[1,"h5"],["alt","Hero icon","width","40",3,"src"],["mat-raised-button","","color","primary",3,"click"],[1,"fa-regular","fa-thumbs-up","h6","m-0"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-dialog-content"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"p",2),e._uU(4,"Report Fighter"),e.qZA(),e.TgZ(5,"p"),e._UZ(6,"img",3),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Do you want to let hero fighter clear this report for you?"),e.qZA(),e.TgZ(9,"p"),e.TgZ(10,"button",4),e.NdJ("click",function(){return o.confirmClear()}),e._UZ(11,"i",5),e._uU(12," OK "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("src",o.hero_avatar,e.LSH))},directives:[C.xY,F.lW],styles:[""]}),i})();var Ye=v(1436);function ft(i,s){1&i&&(e.TgZ(0,"th",13),e._uU(1,"#"),e.qZA())}function Je(i,s){if(1&i&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.ID)}}function vt(i,s){1&i&&(e.TgZ(0,"th",15),e._uU(1," Question Name "),e.qZA())}function wt(i,s){1&i&&(e.TgZ(0,"button",21),e._UZ(1,"i",22),e._uU(2," Reviewed "),e.qZA())}function Zt(i,s){1&i&&(e.TgZ(0,"button",23),e._UZ(1,"i",24),e._uU(2," Reviewing "),e.qZA())}function bt(i,s){1&i&&(e.TgZ(0,"button",25),e._UZ(1,"i",26),e._uU(2," Expired "),e.qZA())}function Tt(i,s){1&i&&(e.TgZ(0,"button",27),e._UZ(1,"i",28),e._uU(2," Reported "),e.qZA())}function At(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().clearReport(r.ID)}),e._UZ(1,"i",30),e._uU(2," Clear report "),e.qZA()}}function qt(i,s){if(1&i&&(e.TgZ(0,"td",14),e._uU(1),e._UZ(2,"br"),e.YNc(3,wt,3,0,"button",16),e.YNc(4,Zt,3,0,"button",17),e.YNc(5,bt,3,0,"button",18),e.YNc(6,Tt,3,0,"button",19),e.YNc(7,At,3,0,"button",20),e.qZA()),2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.questionName(t.parent_ID)," "),e.xp6(2),e.Q6J("ngIf",t.is_reviewed),e.xp6(1),e.Q6J("ngIf",!t.is_reviewed&&!t.answer_is_outdated&&!t.is_reported),e.xp6(1),e.Q6J("ngIf",t.answer_is_outdated),e.xp6(1),e.Q6J("ngIf",!t.answer_is_outdated&&t.is_reported),e.xp6(1),e.Q6J("ngIf",!t.answer_is_outdated&&t.is_reported)}}function yt(i,s){1&i&&(e.TgZ(0,"th",31),e._uU(1," Action "),e.qZA())}function xt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().reportExpiredAnswer(r.ID)}),e._UZ(1,"i",39),e._uU(2," Report expiration "),e.qZA()}}function Ct(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",32),e.TgZ(1,"button",33),e._UZ(2,"i",34),e.qZA(),e.TgZ(3,"mat-menu",null,35),e.YNc(5,xt,3,0,"button",36),e.TgZ(6,"button",37),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().deleteAnswerItem(c.ID)}),e._UZ(7,"i",38),e._uU(8," Delete "),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=s.$implicit,o=e.MAs(4);e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(4),e.Q6J("ngIf",t.answer_is_outdated)}}function $e(i,s){1&i&&e._UZ(0,"tr",40)}function ot(i,s){1&i&&e._UZ(0,"tr",41)}const ze=function(){return[5,10,20]};let Oe=(()=>{class i{constructor(t,o,r,c,p,w,I){this.store=t,this._localService=o,this.apollo=r,this._snackbar=c,this.socket=p,this.dialog=w,this.fetchapimethods=I,this.dataSource=new D.by,this.displayedColumns=["#","question_name","action"],this.destroy$=new H.xQ}ngOnInit(){(0,fe.aj)([this._localService.questionmarketinfo$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>{var o;return!t||!(null===(o=t.questionmarketinfo.userinfo)||void 0===o?void 0:o.user_private_answers)})),this._localService.allquestions$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t))]).subscribe(t=>{var o;let r=null===(o=t[0].questionmarketinfo.userinfo)||void 0===o?void 0:o.user_private_answers;this.allquestion=t[1],this.dataSource.data=r,this.dataSource.paginator=this.paginator})}reportExpiredAnswer(t){this.fetchapimethods.postAPI({urlsuffix:"userreportexpiredanswer",body:{user_answer_ID:t}}).then(r=>{r.selectedUsers&&r.selectedUsers.length&&this.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:r.selectedUsers}),this._snackbar.open("Reported successfully, your answer is now being reviewed again by other users, you got 1 Abicoin for this action","Close"),this.store.dispatch((0,$.Kl)())}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")})}questionName(t){var o;return null===(o=this.allquestion.find(r=>r.ID==t))||void 0===o?void 0:o.post_title}clearReport(t){this.dialog.open(_t,{width:"400px",data:{user_answer_ID:t}})}deleteAnswerItem(t){this.apollo.mutate({mutation:re.Ps`
        mutation delete_single_user_answer($answer_ID: Float!) {
          delete_single_user_answer(answer_ID: $answer_ID)
        }
      `,variables:{answer_ID:t}}).subscribe(o=>{o.data.delete_single_user_answer.selectedUsers&&this.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:o.data.delete_single_user_answer.selectedUsers}),this.store.dispatch((0,$.Kl)()),this.store.dispatch((0,se.LB)()),this._snackbar.open("Answer deleted successfully","Close")},o=>{console.log(o.message),this._snackbar.open(o.message,"Close")})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.yh),e.Y36(N),e.Y36(Ce._M),e.Y36(Q.ux),e.Y36(de.sk),e.Y36(C.uw),e.Y36(W.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-private-user-answer-table"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ze.NW,5),2&t){let r;e.iGM(r=e.CRH())&&(o.paginator=r.first)}},decls:14,vars:5,consts:[[1,"container","p-0"],["mat-table","",2,"width","100%",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","","style","width: 15%",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","question_name"],["mat-header-cell","","style","width: 70%",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","style","width: 15%","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","",2,"width","15%"],["mat-cell",""],["mat-header-cell","",2,"width","70%"],["matTooltip","Show if the this answer is reviewed","type","button","class","btn btn-success updated-status me-2",4,"ngIf"],["matTooltip","Your answer is being reviewed.","type","button","class","btn btn-secondary updated-status me-2",4,"ngIf"],["matTooltip","Please check and report the reviewers because they didn't review your answer.","type","button","class","btn btn-danger updated-status me-2",4,"ngIf"],["matTooltip","This answer is reported.","type","button","class","btn btn-danger updated-status me-2",4,"ngIf"],["matTooltip","Click this button to clear the report of your answer.","type","button","class","btn btn-success updated-status me-2",3,"click",4,"ngIf"],["matTooltip","Show if the this answer is reviewed","type","button",1,"btn","btn-success","updated-status","me-2"],[1,"fa-solid","fa-circle-check"],["matTooltip","Your answer is being reviewed.","type","button",1,"btn","btn-secondary","updated-status","me-2"],[1,"fa-solid","fa-circle-pause"],["matTooltip","Please check and report the reviewers because they didn't review your answer.","type","button",1,"btn","btn-danger","updated-status","me-2"],[1,"fa-solid","fa-face-expressionless"],["matTooltip","This answer is reported.","type","button",1,"btn","btn-danger","updated-status","me-2"],[1,"fa-solid","fa-brake-warning"],["matTooltip","Click this button to clear the report of your answer.","type","button",1,"btn","btn-success","updated-status","me-2",3,"click"],[1,"fa-solid","fa-shield"],["mat-header-cell","",1,"text-center",2,"width","15%"],["mat-cell","",1,"text-center"],["mat-button","",3,"matMenuTriggerFor"],[1,"fa-light","fa-ellipsis-stroke-vertical"],["actionMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"fa-light","fa-trash-can"],[1,"fa-thin","fa-flag-swallowtail"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"table",1),e.ynx(2,2),e.YNc(3,ft,2,0,"th",3),e.YNc(4,Je,2,1,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,vt,2,0,"th",6),e.YNc(7,qt,8,6,"td",4),e.BQk(),e.ynx(8,7),e.YNc(9,yt,2,0,"th",8),e.YNc(10,Ct,9,2,"td",9),e.BQk(),e.YNc(11,$e,1,0,"tr",10),e.YNc(12,ot,1,0,"tr",11),e.qZA(),e._UZ(13,"mat-paginator",12),e.qZA()),2&t&&(e.xp6(1),e.Q6J("dataSource",o.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,ze)))},directives:[D.BZ,D.w1,D.fO,D.Dz,D.as,D.nj,Ze.NW,D.ge,D.ev,k.O5,Ye.gM,F.lW,te.p6,te.VK,te.OP,D.XQ,D.Gk],styles:["button.updated-status[_ngcontent-%COMP%]{font-size:10px;padding:0 2px}"]}),i})();var be=v(8239),G=v(9924),Ie=v.n(G);let ke=(()=>{class i{constructor(t){this.elementRef=t,this.viewerOptions={},this.viewerReady=new e.vpe,this.viewerShow=new e.vpe,this.viewerShown=new e.vpe,this.viewerHide=new e.vpe,this.viewerHidden=new e.vpe,this.viewerView=new e.vpe,this.viewerViewed=new e.vpe,this.viewerZoom=new e.vpe,this.viewerZoomed=new e.vpe,this.nativeElement=this.elementRef.nativeElement}ngAfterViewInit(){this.initViewer()}initViewer(){this.instance&&this.instance.destroy(),this.instance=new(Ie())(this.nativeElement,Object.assign({transition:!1},this.viewerOptions)),this.nativeElement.addEventListener("ready",t=>this.viewerReady.emit(t),!1),this.nativeElement.addEventListener("show",t=>this.viewerShow.emit(t),!1),this.nativeElement.addEventListener("shown",t=>this.viewerShown.emit(t),!1),this.nativeElement.addEventListener("hide",t=>this.viewerHide.emit(t),!1),this.nativeElement.addEventListener("hidden",t=>this.viewerHidden.emit(t),!1),this.nativeElement.addEventListener("view",t=>this.viewerView.emit(t),!1),this.nativeElement.addEventListener("viewed",t=>this.viewerViewed.emit(t),!1),this.nativeElement.addEventListener("zoom",t=>this.viewerZoom.emit(t),!1),this.nativeElement.addEventListener("zoomed",t=>this.viewerZoomed.emit(t),!1)}ngOnDestroy(){this.instance&&this.instance.destroy()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq))},i.\u0275dir=e.lG2({type:i,selectors:[["","ngxViewer",""]],inputs:{viewerOptions:"viewerOptions"},outputs:{viewerReady:"viewerReady",viewerShow:"viewerShow",viewerShown:"viewerShown",viewerHide:"viewerHide",viewerHidden:"viewerHidden",viewerView:"viewerView",viewerViewed:"viewerViewed",viewerZoom:"viewerZoom",viewerZoomed:"viewerZoomed"}}),i})(),Ft=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[]]}),i})();function Fe(i,s){if(1&i&&(e.TgZ(0,"div",6),e._UZ(1,"img",7),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("src",t,e.LSH)}}function Y(i,s){if(1&i&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.TgZ(3,"div",4),e.TgZ(4,"div",2),e.YNc(5,Fe,2,1,"div",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.images)}}let U=(()=>{class i{constructor(t){this._localService=t}ngOnInit(){this.image_names&&(this.images=this.image_names.map(t=>this._localService.addquestionproduct.cdnfolder+t))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-image-viewer"]],inputs:{image_names:"image_names"},decls:1,vars:1,consts:[["class","container position-relative p-0",4,"ngIf"],[1,"container","position-relative","p-0"],[1,"row"],[1,"col"],["ngxViewer",""],["class","col-4 col-md-3 col-lg-2 pb-2",4,"ngFor","ngForOf"],[1,"col-4","col-md-3","col-lg-2","pb-2"],[1,"img-fluid",3,"src"]],template:function(t,o){1&t&&e.YNc(0,Y,6,1,"div",0),2&t&&e.Q6J("ngIf",o.images&&o.images.length>0)},directives:[k.O5,ke,k.sg],styles:["[_nghost-%COMP%]   .img-container[_ngcontent-%COMP%]{height:300px}"]}),i})();function ae(i,s){if(1&i&&(e.TgZ(0,"div",17),e.TgZ(1,"div",14),e._UZ(2,"app-image-viewer",18),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function Et(i,s){if(1&i&&(e.TgZ(0,"div",17),e.TgZ(1,"div",14),e._UZ(2,"app-image-viewer",18),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.original_answer_imgnames)}}function pe(i,s){if(1&i&&(e.TgZ(0,"div",17),e.TgZ(1,"div",14),e._UZ(2,"app-image-viewer",18),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.user_answer_IMGs)}}function Lt(i,s){if(1&i&&(e.TgZ(0,"div",4),e.TgZ(1,"div",13),e.TgZ(2,"div",14),e.TgZ(3,"p"),e.TgZ(4,"u"),e.TgZ(5,"b"),e._uU(6,"New Question Title:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"p",15),e.TgZ(8,"p"),e.TgZ(9,"u"),e.TgZ(10,"b"),e._uU(11,"New Question Content:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(12,"p",15),e.YNc(13,ae,3,1,"div",16),e.TgZ(14,"p"),e.TgZ(15,"u"),e.TgZ(16,"b"),e._uU(17,"New Answer Content:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(18,"p",15),e.YNc(19,Et,3,1,"div",16),e.TgZ(20,"p"),e.TgZ(21,"u"),e.TgZ(22,"b"),e._uU(23,"Your Answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(24,"p",15),e.YNc(25,pe,3,1,"div",16),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(7),e.Q6J("innerHTML",t.new_question.post_title,e.oJD),e.xp6(5),e.Q6J("innerHTML",t.new_question.post_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.question_imgnames.length>0),e.xp6(5),e.Q6J("innerHTML",t.new_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.original_answer_imgnames.length>0),e.xp6(5),e.Q6J("innerHTML",t.user_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.user_answer_IMGs.length>0)}}let De=(()=>{class i{constructor(t,o,r,c,p,w){this.dialogRef=t,this.dialogData=o,this._localService=r,this._fetchAPI=c,this._snackbar=p,this.store=w,this.question_imgnames=[],this.original_answer_imgnames=[],this.user_answer_IMGs=[],this.destroy$=new H.xQ}ngOnInit(){this._localService.allquestions$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t)).subscribe(t=>{this.new_question=t.find(o=>o.ID==this.dialogData.question_ID),this.new_answer=this.new_question.question_answer,this.question_imgnames=this.new_question.question_imgs.map(o=>o.media_name),this.original_answer_imgnames=this.new_answer.answer_imgs.map(o=>o.media_name),this.new_question.questionmarket_user_answer&&(this.user_answer=this.new_question.questionmarket_user_answer.find(o=>o.ID==this.dialogData.user_answer_ID),this.user_answer_IMGs=this.user_answer.answer_imgs.map(o=>o.media_name))})}confirmUpdate(){var t=this;return(0,be.Z)(function*(){if(confirm("Are you sure you want to update new content for this review?")){let r={urlsuffix:"userrequiredreviewupdate",body:{question_ID:t.dialogData.question_ID}};yield t._fetchAPI.postAPI(r).then(c=>{t.store.dispatch((0,$.Kl)()),t.dialogRef.close(),t._snackbar.open("Updated successfully","Close")}).catch(c=>{console.log(c.error),t._snackbar.open(c.error.message,"Close")})}})()}requireFixReview(){var t=this;return(0,be.Z)(function*(){if(confirm("Are you sure you want to make this review fixed and skip all updates in the future?")){let r={urlsuffix:"userrequiremakingreviewfixed",body:{question_ID:t.dialogData.question_ID}};yield t._fetchAPI.postAPI(r).then(c=>{t.store.dispatch((0,$.Kl)()),t.dialogRef.close(),t._snackbar.open("Updated successfully","Close")}).catch(c=>{console.log(c.error),t._snackbar.open(c.error.message,"Close")})}})()}userSkipUpdate(){var t=this;return(0,be.Z)(function*(){if(confirm("Are you sure you want to skip the update of this review?")){let r={urlsuffix:"userrequiremakingreviewupdated",body:{question_ID:t.dialogData.question_ID}};yield t._fetchAPI.postAPI(r).then(c=>{t.store.dispatch((0,$.Kl)()),t.dialogRef.close(),t._snackbar.open("Updated successfully","Close")}).catch(c=>{console.log(c.error),t._snackbar.open(c.error.message,"Close")})}})()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.so),e.Y36(C.WI),e.Y36(N),e.Y36(W.a),e.Y36(Q.ux),e.Y36(z.yh))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-update-review-question-and-answer-content-dialog"]],decls:17,vars:1,consts:[["mat-dialog-title","",1,"row"],[1,"col","text-end"],["mat-button","",3,"click"],["class","container p-0",4,"ngIf"],[1,"container","p-0"],[1,"row","justify-content-between"],[1,"col-auto"],["mat-mini-fab","","color","primary",3,"click"],[1,"fa-light","fa-arrows-rotate"],["mat-mini-fab","","color","accent",3,"click"],[1,"fa-light","fa-lock-keyhole"],["mat-mini-fab","","color","warn","cdkFocusInitial","",3,"click"],[1,"fa-light","fa-xmark"],[1,"row"],[1,"col"],[3,"innerHTML"],["class","row mb-3",4,"ngIf"],[1,"row","mb-3"],[3,"image_names"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return o.dialogRef.close()}),e._uU(3,"Close"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"mat-dialog-content"),e.YNc(5,Lt,26,7,"div",3),e.qZA(),e.TgZ(6,"mat-dialog-actions"),e.TgZ(7,"div",4),e.TgZ(8,"div",5),e._UZ(9,"div",6),e.TgZ(10,"div",6),e.TgZ(11,"button",7),e.NdJ("click",function(){return o.confirmUpdate()}),e._UZ(12,"i",8),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return o.requireFixReview()}),e._UZ(14,"i",10),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return o.userSkipUpdate()}),e._UZ(16,"i",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",o.new_question&&o.new_answer))},directives:[C.uh,F.lW,C.xY,k.O5,C.H8,U],styles:["button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}"]}),i})();function y(i,s){1&i&&(e.TgZ(0,"th",13),e._uU(1,"#"),e.qZA())}function R(i,s){if(1&i&&(e.TgZ(0,"td",14),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.ID)}}function Ee(i,s){1&i&&(e.TgZ(0,"th",15),e._uU(1," Question Name "),e.qZA())}function Ht(i,s){1&i&&(e.TgZ(0,"button",19),e._UZ(1,"i",20),e._uU(2," Updated "),e.qZA())}function nt(i,s){1&i&&(e.TgZ(0,"button",21),e._UZ(1,"i",22),e._uU(2," Need Update "),e.qZA())}function Se(i,s){1&i&&(e.TgZ(0,"button",23),e._UZ(1,"i",24),e._uU(2," Locked "),e.qZA())}function rt(i,s){if(1&i&&(e.TgZ(0,"td",14),e._uU(1),e._UZ(2,"br"),e.YNc(3,Ht,3,0,"button",16),e.YNc(4,nt,3,0,"button",17),e.YNc(5,Se,3,0,"button",18),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.question_info.post_title," "),e.xp6(2),e.Q6J("ngIf",t.review_updated),e.xp6(1),e.Q6J("ngIf",!t.review_updated),e.xp6(1),e.Q6J("ngIf",t.review_fixed)}}function It(i,s){1&i&&(e.TgZ(0,"th",25),e._uU(1," Action "),e.qZA())}function B(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().openUpdateReviewDialog(r.question_ID,r.user_answer_ID)}),e._UZ(1,"i",34),e._uU(2," Update Content "),e.qZA()}}const x=function(i){return{review_ID:i}};function K(i,s){if(1&i&&(e.TgZ(0,"td",26),e.TgZ(1,"button",27),e._UZ(2,"i",28),e.qZA(),e.TgZ(3,"mat-menu",null,29),e.TgZ(5,"button",30),e._UZ(6,"i",31),e._uU(7," View "),e.qZA(),e.YNc(8,B,3,0,"button",32),e.qZA(),e.qZA()),2&i){const t=s.$implicit,o=e.MAs(4);e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(4),e.Q6J("queryParams",e.VKq(3,x,t.ID)),e.xp6(3),e.Q6J("ngIf",!t.review_updated)}}function Bt(i,s){1&i&&e._UZ(0,"tr",35)}function Ve(i,s){1&i&&e._UZ(0,"tr",36)}const $t=function(){return[5,10,20]};let st=(()=>{class i{constructor(t,o,r){this.store=t,this.dialog=o,this._localService=r,this.displayedColumns=["#","Question","Action"],this.dataSource=new D.by([]),this.destroy$=new H.xQ}ngOnInit(){this._localService.questionmarketinfo$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t||!t.questionmarketinfo.answer_reviews)).subscribe(t=>{this.dataSource.data=t.questionmarketinfo.answer_reviews,this.dataSource.paginator=this.paginator})}openUpdateReviewDialog(t,o){this.dialog.open(De,{data:{question_ID:t,user_answer_ID:o}})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.yh),e.Y36(C.uw),e.Y36(N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-answer-reviews-table"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ze.NW,5),2&t){let r;e.iGM(r=e.CRH())&&(o.paginator=r.first)}},decls:14,vars:5,consts:[[1,"container","p-0"],["mat-table","",2,"width","100%",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","","style","width: 15%",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Question"],["mat-header-cell","","style","width: 70%",4,"matHeaderCellDef"],["matColumnDef","Action"],["mat-header-cell","","style","width: 15%; text-align: center",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","",2,"width","15%"],["mat-cell",""],["mat-header-cell","",2,"width","70%"],["matTooltip","Show if the status of original question and answer is newest or need to be updated.","type","button","class","btn btn-success updated-status me-2",4,"ngIf"],["matTooltip","Show if the status of original question and answer is newest or need to be updated.","type","button","class","btn btn-danger updated-status me-2",4,"ngIf"],["matTooltip","Show if this review content is fixed and it will skip all updates.","type","button","class","btn btn-secondary updated-status me-2",4,"ngIf"],["matTooltip","Show if the status of original question and answer is newest or need to be updated.","type","button",1,"btn","btn-success","updated-status","me-2"],[1,"fa-light","fa-circle-check"],["matTooltip","Show if the status of original question and answer is newest or need to be updated.","type","button",1,"btn","btn-danger","updated-status","me-2"],[1,"fa-light","fa-arrows-rotate"],["matTooltip","Show if this review content is fixed and it will skip all updates.","type","button",1,"btn","btn-secondary","updated-status","me-2"],[1,"fa-light","fa-lock"],["mat-header-cell","",2,"width","15%","text-align","center"],["mat-cell","",2,"text-align","center"],["mat-button","",3,"matMenuTriggerFor"],[1,"fa-thin","fa-ellipsis-stroke-vertical"],["actionMenu","matMenu"],["mat-menu-item","","routerLink","/questionmarket/checkreview",3,"queryParams"],[1,"fa-thin","fa-ballot-check","me-2"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"fa-thin","fa-arrows-rotate","me-2"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"table",1),e.ynx(2,2),e.YNc(3,y,2,0,"th",3),e.YNc(4,R,2,1,"td",4),e.BQk(),e.ynx(5,5),e.YNc(6,Ee,2,0,"th",6),e.YNc(7,rt,6,4,"td",4),e.BQk(),e.ynx(8,7),e.YNc(9,It,2,0,"th",8),e.YNc(10,K,9,5,"td",9),e.BQk(),e.YNc(11,Bt,1,0,"tr",10),e.YNc(12,Ve,1,0,"tr",11),e.qZA(),e._UZ(13,"mat-paginator",12),e.qZA()),2&t&&(e.xp6(1),e.Q6J("dataSource",o.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,$t)))},directives:[D.BZ,D.w1,D.fO,D.Dz,D.as,D.nj,Ze.NW,D.ge,D.ev,k.O5,Ye.gM,F.lW,te.p6,te.VK,te.OP,L.rH,D.XQ,D.Gk],styles:["button.updated-status[_ngcontent-%COMP%]{font-size:10px;padding:0 2px}"]}),i})();var kt=v(7270),Ue=v(6410),at=v(7690);let je=(()=>{class i{constructor(t,o){this.store=t,this.localService=o,this.questions=[],this.answers=[],this.reviews=[],this.destroy$=new H.xQ,this.lineChartData={datasets:[{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Your Questions",backgroundColor:"rgb(158 113 245 / 20%)",borderColor:"rgb(158 113 245)",pointBackgroundColor:"rgb(158 113 245)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)",fill:"origin"},{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Your Answers",backgroundColor:"rgb(113 147 245 / 20%)",borderColor:"rgb(113 147 245)",pointBackgroundColor:"rgb(113 147 245)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)",fill:"origin"},{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Reviews",backgroundColor:"rgb(108 117 125 / 20%)",borderColor:"rgb(108 117 125)",pointBackgroundColor:"rgb(108 117 125)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)",fill:"origin"}],labels:["January","February","March","April","May","June","July","August","September","October","November","December"]},this.lineChartOptions={elements:{line:{tension:.5}},scales:{x:{}},plugins:{legend:{display:!0}}},this.lineChartType="line"}ngOnInit(){(0,fe.aj)([this.localService.questionmarketinfo$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t||!t.questionmarketinfo.answer_reviews||!t.questionmarketinfo.userinfo)),this.localService.allquestions$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>0==t.length))]).subscribe(t=>{var o,r;let c=t[0].questionmarketinfo;if(!localStorage.getItem("user_id"))return;let p=parseInt(localStorage.getItem("user_id"));this.questions=t[1].filter(w=>w.post_author==p),this.answers=null===(o=c.userinfo)||void 0===o?void 0:o.user_private_answers,this.reviews=c.answer_reviews.filter(w=>w.answerer_ID==p),this.resetChart(),this.questions.forEach(w=>{let I=new Date,j=new Date(w.post_date);if(j.getFullYear()==I.getFullYear()){let _e=this.lineChartData.datasets[0].data[j.getMonth()];this.lineChartData.datasets[0].data[j.getMonth()]=_e+1}}),this.answers.forEach(w=>{let I=new Date,j=new Date(w.answer_date);if(j.getFullYear()==I.getFullYear()){let _e=this.lineChartData.datasets[0].data[j.getMonth()];this.lineChartData.datasets[1].data[j.getMonth()]=_e+1}}),this.reviews.forEach(w=>{let I=new Date,j=new Date(w.review_date);if(j.getFullYear()==I.getFullYear()){let _e=this.lineChartData.datasets[0].data[j.getMonth()];this.lineChartData.datasets[2].data[j.getMonth()]=_e+1}}),null===(r=this.chart)||void 0===r||r.update()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}resetChart(){this.lineChartData={datasets:[{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Your Questions",backgroundColor:"rgb(158 113 245 / 20%)",borderColor:"rgb(158 113 245)",pointBackgroundColor:"rgb(158 113 245)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)",fill:"origin"},{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Your Answers",backgroundColor:"rgb(113 147 245 / 20%)",borderColor:"rgb(113 147 245)",pointBackgroundColor:"rgb(113 147 245)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)",fill:"origin"},{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Reviews",backgroundColor:"rgb(108 117 125 / 20%)",borderColor:"rgb(108 117 125)",pointBackgroundColor:"rgb(108 117 125)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)",fill:"origin"}],labels:["January","February","March","April","May","June","July","August","September","October","November","December"]}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.yh),e.Y36(N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-question-answer-chart"]],viewQuery:function(t,o){if(1&t&&e.Gf(at.jh,5),2&t){let r;e.iGM(r=e.CRH())&&(o.chart=r.first)}},decls:4,vars:3,consts:[[1,"container-fluid","p-0"],[1,"row"],[1,"col"],["baseChart","",2,"max-width","100%","heigh","400px","max-height","40vh",3,"data","options","type"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"canvas",3),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("data",o.lineChartData)("options",o.lineChartOptions)("type",o.lineChartType))},directives:[at.jh],styles:[""]}),i})();function zt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",8),e.TgZ(1,"mat-card"),e.TgZ(2,"mat-card-content"),e.TgZ(3,"div",3),e.TgZ(4,"div",9),e._UZ(5,"img",10),e.qZA(),e.TgZ(6,"div",11),e.TgZ(7,"p",12),e.TgZ(8,"b"),e._uU(9),e.qZA(),e.qZA(),e._UZ(10,"p",13),e.TgZ(11,"div",3),e.TgZ(12,"div",14),e.TgZ(13,"button",15),e.NdJ("click",function(){return e.CHM(t).$implicit.action()}),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=s.$implicit;e.xp6(5),e.Q6J("src",t.img,e.LSH)("alt",t.title),e.xp6(4),e.hij(" ",t.title," "),e.xp6(1),e.Q6J("innerHTML",t.content,e.oJD),e.xp6(4),e.hij(" ",t.action_name," ")}}let Vt=(()=>{class i{constructor(t,o,r,c,p){this.store=t,this.localService=o,this.router=r,this.dialog=c,this._bottomSheet=p,this.questions=[],this.reviews=[],this.manageQuestions=()=>{this.router.navigate(["/questionmarket/managequestions"])},this.overalls=[{title:"Questions",img:"assets/img/questionmarket/Creative_process_SVG.svg",content:0,action_name:"Manage",action:()=>{this.manageQuestions()}},{title:"Answers",img:"assets/img/questionmarket/Business_SVG.svg",content:0,action_name:"Manage",action:()=>{this.manageAnswers()}},{title:"Reviews",img:"assets/img/questionmarket/Search_SVG.svg",content:0,action_name:"Manage",action:()=>{this.manageReviews()}},{title:"Profile",img:"assets/img/questionmarket/profile_svg.svg",content:'<img src="assets/img/questionmarket/icons8-settings.svg" width="30px" height="30px">',action_name:"Manage",action:()=>{this.manageProfile()}}],this.destroy$=new H.xQ}manageAnswers(){this._bottomSheet.open(Oe)}manageReviews(){this._bottomSheet.open(st)}manageProfile(){this._bottomSheet.open(kt.E)}ngOnInit(){(0,fe.aj)([this.localService.questionmarketinfo$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t||!t.questionmarketinfo.answer_reviews||!t.questionmarketinfo.userinfo)),this.localService.allquestions$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>0==t.length))]).subscribe(t=>{var o;let r=t[0].questionmarketinfo;if(!localStorage.getItem("user_id"))return;let c=parseInt(localStorage.getItem("user_id"));this.questions=t[1].filter(p=>p.post_author==c&&"publish"==p.post_status),this.overalls[0].content=this.questions.length,this.overalls[1].content=null===(o=r.userinfo)||void 0===o?void 0:o.user_private_answers.length,this.reviews=r.answer_reviews.filter(p=>p.answerer_ID==c),this.overalls[2].content=this.reviews.length})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.yh),e.Y36(N),e.Y36(L.F0),e.Y36(C.uw),e.Y36(Ue.ch))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manage-private-profile-page"]],decls:12,vars:1,consts:[[1,"container"],[1,"row","pb-5"],["class","col-12 col-sm-6 col-xl-3 pb-3",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","col-lg-7"],[1,"col"],[1,"col-12","col-lg-5"],[1,"row","mb-5"],[1,"col-12","col-sm-6","col-xl-3","pb-3"],[1,"col-4"],["width","80px","height","auto",3,"src","alt"],[1,"col-8"],[1,"text-muted","text-end"],[1,"text-end","h5",3,"innerHTML"],[1,"col","text-end"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,zt,15,5,"div",2),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",1),e.TgZ(6,"div",5),e._UZ(7,"app-user-question-answer-chart"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",5),e._UZ(11,"app-user-abi-card"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",o.overalls))},directives:[k.sg,je,it.A,oe.a8,oe.dn,F.lW],styles:[""]}),i})();var Te=v(9983);let jt=(()=>{class i{constructor(t,o,r,c,p){this.fetchDataService=t,this.dialogRef=o,this.data=r,this.socket=c,this._snackbar=p,this.messageContent=new h.NI("",h.kI.required)}ngOnInit(){}confirmMessage(){this.messageContent.valid&&this.fetchDataService.postAPI({urlsuffix:"sendprivatemessagetoquestionauthor",body:{question_ID:this.data.question_ID,message_content:this.messageContent.value}}).then(r=>{r.selectedUsers&&r.selectedUsers.length&&this.socket.emit(ee.f.requireUsersReloadPrivateMessages.name,{userIDarr:r.selectedUsers}),this.dialogRef.close(),this._snackbar.open("Message sent successfully","Close")}).catch(r=>{console.error(r.error),this._snackbar.open(r.error.message,"Close")})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.a),e.Y36(C.so),e.Y36(C.WI),e.Y36(de.sk),e.Y36(Q.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-false-original-answer-message"]],decls:15,vars:1,consts:[[1,"h5"],[1,"fa-thin","fa-envelope","me-2"],["name","Question message","rows","5","matInput","",3,"formControl"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[1,"fa-thin","fa-paper-plane","ms-2"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-dialog-content"),e.TgZ(1,"p",0),e.TgZ(2,"u"),e._UZ(3,"i",1),e._uU(4," Message Form"),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7," Write something to the question author... "),e.qZA(),e._UZ(8,"textarea",2),e.qZA(),e.qZA(),e.TgZ(9,"mat-dialog-actions",3),e.TgZ(10,"button",4),e._uU(11,"Cancel"),e.qZA(),e.TgZ(12,"button",5),e.NdJ("click",function(){return o.confirmMessage()}),e._uU(13," Confirm"),e._UZ(14,"i",6),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("formControl",o.messageContent))},directives:[C.xY,S.KE,S.hX,Te.Nt,h.Fj,h.JJ,h.oH,C.H8,F.lW,C.ZT],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),i})(),Xt=(()=>{class i{constructor(t,o,r,c,p,w,I){this.data=t,this.dialogRef=o,this.socket=r,this._snackbar=c,this.router=p,this.store=w,this._fetchAPI=I,this.reportNotes=new h.NI("",h.kI.required)}ngOnInit(){}confirmReport(){this.reportNotes.valid&&confirm("Are you sure you want to submit this report?")&&this._fetchAPI.postAPI({urlsuffix:"report_user_answer_invalid",body:{user_answer_ID:this.data.user_answer_ID,report_notes:this.reportNotes.value,notification_ID:this.data.notification_ID}}).then(r=>{r.selectedUsers&&r.selectedUsers.length&&this.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:r.selectedUsers}),this.dialogRef.close(),this._snackbar.open("Report is submitted successfully","Close"),this.router.navigate(["/questionmarket"]),this.store.dispatch((0,se.LB)())}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.WI),e.Y36(C.so),e.Y36(de.sk),e.Y36(Q.ux),e.Y36(L.F0),e.Y36(z.yh),e.Y36(W.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-report-answer-dialog"]],decls:16,vars:1,consts:[[1,"h5"],[1,"fa-thin","fa-flag-swallowtail","me-2"],["name","Report notes","rows","5","matInput","",3,"formControl"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-dialog-content"),e.TgZ(1,"p",0),e.TgZ(2,"u"),e._UZ(3,"i",1),e._uU(4," Report Form"),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7," Why do you report this answer, write somethings... "),e.qZA(),e._UZ(8,"textarea",2),e.qZA(),e.TgZ(9,"mat-hint"),e._uU(10," By confirming this form, you are agreed that your report is true. If not, you may get 1 punish point from the controllers. "),e.qZA(),e.qZA(),e.TgZ(11,"mat-dialog-actions",3),e.TgZ(12,"button",4),e._uU(13,"Cancel"),e.qZA(),e.TgZ(14,"button",5),e.NdJ("click",function(){return o.confirmReport()}),e._uU(15,"Confirm"),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("formControl",o.reportNotes))},directives:[C.xY,S.KE,S.hX,Te.Nt,h.Fj,h.JJ,h.oH,S.bx,C.H8,F.lW,C.ZT],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),i})();var lt=v(2613),Xe=v(9273);function Wt(i,s){if(1&i&&(e.TgZ(0,"div",16),e.TgZ(1,"div",14),e._UZ(2,"app-image-viewer",27),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function Dt(i,s){if(1&i&&(e.TgZ(0,"div",16),e.TgZ(1,"div",14),e._UZ(2,"app-image-viewer",27),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.useranswer_imgnames)}}function d(i,s){if(1&i&&(e.TgZ(0,"div",16),e.TgZ(1,"div",14),e._UZ(2,"app-image-viewer",27),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.original_answer_imgnames)}}function n(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e._UZ(3,"div"),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",3),e.TgZ(6,"mat-card"),e._UZ(7,"p",5),e.TgZ(8,"p"),e.TgZ(9,"u"),e.TgZ(10,"b"),e._UZ(11,"i",6),e._uU(12,"Question:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(13,"div",7),e.YNc(14,Wt,3,1,"div",8),e.TgZ(15,"p"),e.TgZ(16,"u"),e.TgZ(17,"b"),e._UZ(18,"i",9),e._uU(19,"User answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(20,"div",7),e.YNc(21,Dt,3,1,"div",8),e.TgZ(22,"p",10),e.TgZ(23,"i"),e.TgZ(24,"u"),e._UZ(25,"i",11),e._uU(26,"Original answer:"),e.qZA(),e.qZA(),e._UZ(27,"br"),e.TgZ(28,"small"),e._uU(29,"If you think the original answer is incorrect, please tell the author by "),e.TgZ(30,"u",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().openfalseOriginalAnswerDialog()}),e._uU(31,"this form"),e.qZA(),e.qZA(),e.qZA(),e._UZ(32,"div",7),e.YNc(33,d,3,1,"div",8),e.TgZ(34,"div",13),e.TgZ(35,"div",14),e.TgZ(36,"p",15),e.TgZ(37,"u"),e._uU(38,"Your Review:"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",13),e.TgZ(40,"div",14),e.TgZ(41,"p"),e._uU(42,"1. Is this answer right or wrong?"),e.qZA(),e.TgZ(43,"div",16),e.TgZ(44,"mat-radio-group",17),e.TgZ(45,"div",18),e.TgZ(46,"mat-radio-button",19),e._UZ(47,"i",20),e._uU(48,"Right "),e.qZA(),e.qZA(),e.TgZ(49,"div",18),e.TgZ(50,"mat-radio-button",19),e._UZ(51,"i",21),e._uU(52,"Wrong "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"div",16),e.TgZ(54,"div",14),e._uU(55,"2. Write something about this answer:"),e.qZA(),e.qZA(),e.TgZ(56,"div",13),e.TgZ(57,"div",14),e.TgZ(58,"div",22),e._UZ(59,"quill-editor",23),e.qZA(),e.TgZ(60,"p"),e.TgZ(61,"small"),e._uU(62,"*** By submitting this form, you are fully responsible for the correctness of your review."),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",13),e.TgZ(64,"div",24),e.TgZ(65,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitForm()}),e._UZ(66,"i",20),e._uU(67,"Submit "),e.qZA(),e.TgZ(68,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().openreportDialog()}),e._uU(69," Report "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(3),e.Jzz("\n                    width: 100%;\n                    height: 400px;\n                    max-height: 60vh;\n                    border-radius: 10px;\n                    background: url('",t.cdnfolder+t.question.question_avatar.media_name,"') no-repeat center center / cover;\n                "),e.xp6(1),e.Q6J("formGroup",t.reviewForm),e.xp6(3),e.Q6J("innerHTML",t.question.post_title,e.oJD),e.xp6(6),e.Q6J("innerHTML",t.question.post_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.question_imgnames.length>0),e.xp6(6),e.Q6J("innerHTML",t.answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.useranswer_imgnames.length>0),e.xp6(11),e.Q6J("innerHTML",t.original_answer,e.oJD),e.xp6(1),e.Q6J("ngIf",t.original_answer_imgnames.length>0),e.xp6(13),e.Q6J("value",!0),e.xp6(4),e.Q6J("value",!1),e.xp6(9),e.Q6J("modules",t.modules)}}let l=(()=>{class i{constructor(t,o,r,c,p,w,I,j){this.route=t,this._localService=o,this._fetchAPI=r,this._snackbar=c,this.dialog=p,this.store=w,this.router=I,this.socket=j,this.original_answer="",this.question_imgnames=[],this.useranswer_imgnames=[],this.original_answer_imgnames=[],this.reviewForm=new h.cw({correct:new h.NI(!0,[h.kI.required]),review_content:new h.NI("")}),this.destroy$=new H.xQ,this.modules={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]}}get cdnfolder(){return this._localService.addquestionproduct.cdnfolder}openfalseOriginalAnswerDialog(){this.dialog.open(jt,{width:"400px",data:{question_ID:this.question.ID}})}openreportDialog(){this.dialog.open(Xt,{width:"400px",data:{user_answer_ID:this.answer.ID,notification_ID:this.notification_ID}})}ngOnInit(){(0,fe.aj)([this.route.queryParams.pipe((0,M.n)(t=>!t.answer_ID||!t.question_ID||!t.token)),this._localService.allquestions$.pipe((0,P.R)(this.destroy$))]).subscribe(t=>{this.question=t[1].find(c=>c.ID==t[0].question_ID),this.question&&this.question.questionmarket_user_answer&&(this.answer=this.question.questionmarket_user_answer.find(c=>c.ID==t[0].answer_ID),this.answer&&(this.useranswer_imgnames=[...this.answer.answer_imgs.map(c=>c.media_name)]),this.question_imgnames=this.question.question_imgs.map(c=>c.media_name)),this._fetchAPI.postAPI({urlsuffix:"getreviewquestionanswer",body:{token:t[0].token}}).then(c=>{this.original_answer=c[0].answer_content,this.original_answer_imgnames=[...c[0].answer_imgs.map(p=>p.media_name)],this.notification_ID=c[1]}).catch(c=>{console.log(c.error),this._snackbar.open(c.error.message,"Close"),this.router.navigate(["/questionmarket"]),this.store.dispatch((0,se.LB)())})})}submitForm(){var t=this;return(0,be.Z)(function*(){if(t.reviewForm.valid&&confirm("Are you sure you want to submit this form?")){let p={urlsuffix:"usersubmitanswerreview",body:{correctness:t.reviewForm.value.correct,review_content:t.reviewForm.value.review_content,notification_ID:t.notification_ID}};yield t._fetchAPI.postAPI(p).then(w=>{w.selectedUsers&&t.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:w.selectedUsers}),t._snackbar.open(`Review submitted successfully, you get ${w.reviewer_increased_money} coin(s)`,"Close"),t.router.navigate(["/questionmarket"]),t.store.dispatch((0,$.Kl)()),t.store.dispatch((0,se.LB)())}).catch(w=>{console.log(w.error),t.router.navigate(["/questionmarket"]),t.store.dispatch((0,se.LB)()),t._snackbar.open(w.error.message,"Close")})}})()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(L.gz),e.Y36(N),e.Y36(W.a),e.Y36(Q.ux),e.Y36(C.uw),e.Y36(z.yh),e.Y36(L.F0),e.Y36(de.sk))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-answer-review-page"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","mb-5","justify-content-center"],[1,"col-12","col-lg-8","col-xl-6"],[1,"row","justify-content-center",3,"formGroup"],[1,"h3","text-center",3,"innerHTML"],[1,"fa-thin","fa-block-question","me-2"],[1,"mb-3",3,"innerHTML"],["class","row mb-3",4,"ngIf"],[1,"fa-thin","fa-pen-circle","me-2"],[1,"text-success"],[1,"fa-thin","fa-circle-check","me-2"],[2,"cursor","pointer",3,"click"],[1,"row"],[1,"col"],[1,"h3"],[1,"row","mb-3"],["formControlName","correct",1,"row","justify-content-around"],[1,"col-auto"],[3,"value"],[1,"fa-thin","fa-check","me-2"],[1,"fa-thin","fa-xmark","me-2"],[1,"container","p-0","mb-3"],["theme","snow","formControlName","review_content",3,"modules"],[1,"col","text-end"],["mat-raised-button","","color","primary",1,"me-2",3,"click"],["mat-button","",3,"click"],[3,"image_names"]],template:function(t,o){1&t&&e.YNc(0,n,70,14,"div",0),2&t&&e.Q6J("ngIf",o.question&&o.answer)},directives:[k.O5,h.JL,h.sg,oe.a8,lt.VQ,h.JJ,h.u,lt.U0,Xe.g6,F.lW,U],styles:["mat-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.5);box-shadow:0 8px 32px #1f26875e;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.18)}"]}),i})(),a=(()=>{class i{constructor(t,o,r,c,p){this.dialogRef=t,this._api=o,this._snackbar=r,this.store=c,this._localService=p,this.cat_name=new h.NI("",h.kI.required)}ngOnInit(){}onclose(){this.dialogRef.close()}confirm(){let t=this._localService.addquestionproduct.area_ID;t&&this.cat_name.valid?this._api.postAPI({urlsuffix:"addquestionproductcategory",body:{category_name:this.cat_name.value,area_ID:t}}).then(c=>{this.store.dispatch((0,$.Kl)()),this._snackbar.open("Category added successfully","Close"),console.log(c),this.dialogRef.close()}).catch(c=>{this._snackbar.open(c.error.message,"Close")}):(this._snackbar.open("Please choose an area first...","Close"),this.dialogRef.close())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.so),e.Y36(W.a),e.Y36(Q.ux),e.Y36(z.yh),e.Y36(N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-category-dialog"]],decls:14,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill"],["matInput","",3,"formControl"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-raised-button","","cdkFocusInitial","","color","primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"h3",0),e._uU(1,"Add new category"),e.qZA(),e.TgZ(2,"div",1),e.TgZ(3,"p"),e._uU(4,"Which category do you want to add?"),e.qZA(),e.TgZ(5,"mat-form-field",2),e.TgZ(6,"mat-label"),e._uU(7,"Category name"),e.qZA(),e._UZ(8,"input",3),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"button",5),e.NdJ("click",function(){return o.onclose()}),e._uU(11,"Close"),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){return o.confirm()}),e._uU(13,"Ok"),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("formControl",o.cat_name))},directives:[C.uh,C.xY,S.KE,S.hX,Te.Nt,h.Fj,h.JJ,h.oH,C.H8,F.lW],styles:[""]}),i})();var u=v(1841),g=v(728),m=v(7360),_=v(2178);function T(i,s){if(1&i&&e._UZ(0,"div"),2&i){const t=e.oxw(2);e.Jzz("\n              width: 40px;\n              height: 40px;\n              background: url('",t.cdnfolder+t.productavatar,"') no-repeat center center / cover;\n              ")}}function f(i,s){1&i&&e.YNc(0,T,1,3,"ng-template",14)}function A(i,s){1&i&&(e.TgZ(0,"mat-hint"),e.TgZ(1,"span",15),e._uU(2,"Image uploaded successfully"),e.qZA(),e.qZA())}function Z(i,s){if(1&i&&e._UZ(0,"mat-progress-bar",16),2&i){const t=e.oxw();e.Q6J("value",t.upimgformpercent)}}function J(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.uploadimgbyfileinfo," ")}}function X(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"mat-progress-bar",17),e.qZA())}function O(i,s){1&i&&(e.TgZ(0,"mat-hint"),e.TgZ(1,"span",15),e._uU(2,"Image uploaded successfully"),e.qZA(),e.qZA())}function ce(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.uploadimgbyurlinfo," ")}}const le=function(){return{clickable:!0,dynamicBullets:!0}};let ie=(()=>{class i{constructor(t,o,r,c){this._localService=t,this._UploadImg=o,this._fetchAPI=r,this._snackbar=c,this.uploadimgbyfiletoggle=!1,this.uploadimgbyfilesuccess=!1,this.upimgformpercent=0,this.uploadimgbyfileerror=!1,this.uploadimgbyfileinfo="",this.uploadimgbyurltoggle=!1,this.uploadimgbyurlinfo="",this.uploadimgbyurlerror=!1,this.uploadimgbyurlsuccess=!1,this.deletetempproductimg=()=>new Promise((p,w)=>{this.currentchoosedimg&&this._fetchAPI.postAPI({urlsuffix:"deletetemporaryquestionproductimg",body:{img_name:this.currentchoosedimg}}).then(()=>{this._localService.addquestionproduct.product_avatar="",this.currentchoosedimg=void 0,p(!0)}).catch(_e=>{console.log(_e.error),this._snackbar.open(_e.error.message,"Close"),w(!1)})})}get cdnfolder(){return this._localService.addquestionproduct.cdnfolder}get productavatar(){return this._localService.addquestionproduct.product_avatar}get slideratio(){return this._localService.addquestionproduct.slideratio}ngOnInit(){this._localService.addquestionproduct.product_avatar=""}uploadfile(t){var o=this;return(0,be.Z)(function*(){if(o.uploadimgbyfilesuccess=!1,o.uploadimgbyfileerror=!1,1==t.files.length){o.currentchoosedimg&&(yield o.deletetempproductimg());const r="Product_Avatar";let c={upload_url_suffix:"uploadquestionproductavatarbyimgfile",inputfile:t.files[0],FileObjName:r,param_variables:(new u.LE).set("file_obj_name",r).set("file_size",parseInt(t.files[0].size))};o._UploadImg.uploadfile(c).subscribe(p=>{switch(p.type){case u.dt.Sent:o.uploadimgbyfiletoggle=!0,console.log("Request has been made!");break;case u.dt.ResponseHeader:console.log("Response header has been received!");break;case u.dt.UploadProgress:var I=Math.round(p.loaded/(p.total?p.total:0)*100);o.upimgformpercent=I,console.log(`Uploaded ${I}%`);break;case u.dt.Response:o.uploadimgbyfilesuccess=!0,o.uploadimgbyfiletoggle=!1,o._localService.addquestionproduct.product_avatar=p.body.newFilename,o.currentchoosedimg=p.body.newFilename,console.log("Image Uploaded Successfully!",p.body)}},p=>{console.log("Image not Uploaded!"),o.uploadimgbyfiletoggle=!1,o.uploadimgbyfileerror=!0,o.uploadimgbyfileinfo=p.error.message})}else o.uploadimgbyfileinfo="This image is too large, maximal 25MB..."})()}uploadfilebyurl(t){var o=this;return(0,be.Z)(function*(){o.uploadimgbyurlsuccess=!1,o.uploadimgbyurlerror=!1,""!==t&&(o.currentchoosedimg&&(yield o.deletetempproductimg()),o._UploadImg.uploadfilebyurl({body:{img_url:t},upload_url_suffix:"uploadquestionproductavatarbyurl"}).subscribe(p=>{switch(p.type){case u.dt.Sent:o.uploadimgbyurltoggle=!0,console.log("Request has been made!");break;case u.dt.ResponseHeader:console.log("Response header has been received!");break;case u.dt.Response:o.uploadimgbyurltoggle=!1,console.log("Image Uploaded Successfully!",p.body),o.uploadimgbyurlsuccess=!0,o._localService.addquestionproduct.product_avatar=p.body.newFilename,o.currentchoosedimg=p.body.newFilename}},p=>{console.log("Image not Uploaded!"),o.uploadimgbyurltoggle=!1,o.uploadimgbyurlerror=!0,o.uploadimgbyurlinfo=p.error.message}))})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(N),e.Y36(g.c),e.Y36(W.a),e.Y36(Q.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-new-product-avatar-form"]],decls:25,vars:13,consts:[[1,"row"],[1,"col"],[3,"navigation","slidesPerView","mousewheel","spaceBetween","pagination"],[4,"ngIf"],[1,"row","my-3"],[1,"mb-3"],["for","formFile",1,"form-label"],["type","file",1,"form-control",3,"input"],["mode","determinate",3,"value",4,"ngIf"],[1,"mt-3"],[1,"input-group","my-3"],["type","text","aria-describedby","button-addon2",1,"form-control"],["urltreeavatar",""],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"click"],["swiperSlide",""],[1,"text-success"],["mode","determinate",3,"value"],["mode","query"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"swiper",2),e.YNc(3,f,1,0,void 0,3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",1),e.TgZ(6,"div",5),e.TgZ(7,"label",6),e.TgZ(8,"strong"),e._uU(9,"Question avatar (Required)"),e.qZA(),e.qZA(),e.TgZ(10,"input",7),e.NdJ("input",function(p){return o.uploadfile(p.target)}),e.qZA(),e.qZA(),e.YNc(11,A,3,0,"mat-hint",3),e.YNc(12,Z,1,1,"mat-progress-bar",8),e.YNc(13,J,2,1,"mat-error",3),e.TgZ(14,"div",9),e.TgZ(15,"mat-label"),e._uU(16," Or use an image url "),e.qZA(),e.TgZ(17,"div",10),e._UZ(18,"input",11,12),e.TgZ(20,"button",13),e.NdJ("click",function(){e.CHM(r);const p=e.MAs(19);return o.uploadfilebyurl(p.value)}),e._uU(21," Submit "),e.qZA(),e.qZA(),e.YNc(22,X,2,0,"div",3),e.YNc(23,O,3,0,"mat-hint",3),e.YNc(24,ce,2,1,"mat-error",3),e.qZA(),e.qZA(),e.qZA()}2&t&&(e.xp6(2),e.Q6J("navigation",!0)("slidesPerView",o.slideratio)("mousewheel",!0)("spaceBetween",50)("pagination",e.DdM(12,le)),e.xp6(1),e.Q6J("ngIf",o.productavatar),e.xp6(8),e.Q6J("ngIf",o.uploadimgbyfilesuccess),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyfiletoggle),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyfileerror),e.xp6(9),e.Q6J("ngIf",o.uploadimgbyurltoggle),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyurlsuccess),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyurlerror))},directives:[m.nF,k.O5,S.hX,m.YC,S.bx,_.pW,S.TO],styles:[""]}),i})();var E=v(8341);function V(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().productimgselected("a"+r.split(".")[0],r)}),e.qZA()}if(2&i){const t=e.oxw().$implicit,o=e.oxw();e.Jzz("\n            width: 40px;\n            height: 40px;\n            background: url('",o.cdnfolder+t,"') no-repeat center center / cover;\n            "),e.Q6J("id","a"+t.split(".")[0])}}function We(i,s){1&i&&e.YNc(0,V,1,4,"ng-template",19)}function Ne(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().deletetempproductimg()}),e._UZ(1,"i",22),e.TgZ(2,"span"),e._uU(3,"Delete selected"),e.qZA(),e.qZA()}}function he(i,s){1&i&&(e.TgZ(0,"mat-hint"),e.TgZ(1,"span",23),e._uU(2,"Image uploaded successfully"),e.qZA(),e.qZA())}function Re(i,s){if(1&i&&e._UZ(0,"mat-progress-bar",24),2&i){const t=e.oxw();e.Q6J("value",t.upimgformpercent)}}function Le(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.uploadimgbyfileinfo," ")}}function ct(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"mat-progress-bar",25),e.qZA())}function ve(i,s){1&i&&(e.TgZ(0,"mat-hint"),e.TgZ(1,"span",23),e._uU(2,"Image uploaded successfully"),e.qZA(),e.qZA())}function si(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.uploadimgbyurlinfo," ")}}const ai=function(){return{clickable:!0,dynamicBullets:!0}};let li=(()=>{class i{constructor(t,o,r,c){this._localService=t,this._UploadImg=o,this._fetchAPI=r,this._snackbar=c,this.uploadimgbyfiletoggle=!1,this.uploadimgbyfilesuccess=!1,this.upimgformpercent=0,this.uploadimgbyfileerror=!1,this.uploadimgbyfileinfo="",this.uploadimgbyurltoggle=!1,this.uploadimgbyurlinfo="",this.uploadimgbyurlerror=!1,this.uploadimgbyurlsuccess=!1}productimgselected(t,o){document.querySelectorAll(".productimage").forEach(p=>{p.classList.remove("border")});let c=document.querySelector("#"+t);c&&(this.currentchoosedimg=o,c.classList.add("border","border-primary","border-4"))}get slideratio(){return this._localService.addquestionproduct.slideratio}get cdnfolder(){return this._localService.addquestionproduct.cdnfolder}ngOnInit(){this._localService.addquestionproduct.productimgs=[]}get productimgs(){return this._localService.addquestionproduct.productimgs}deletetempproductimg(){this.currentchoosedimg&&this._fetchAPI.postAPI({urlsuffix:"deletetemporaryquestionproductimg",body:{img_name:this.currentchoosedimg}}).then(()=>{let r=this._localService.addquestionproduct.productimgs.indexOf(this.currentchoosedimg);this._localService.addquestionproduct.productimgs.splice(r,1),this.currentchoosedimg=void 0}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")})}uploadfile(t){if(this._localService.addquestionproduct.productimgs.length>=10)this._snackbar.open("You can only upload maximal 10 images","Close");else if(this.uploadimgbyfilesuccess=!1,this.uploadimgbyfileerror=!1,1==t.files.length){const o="Product_Image";let r={upload_url_suffix:"uploadquestionproductimgbyimgfile",inputfile:t.files[0],FileObjName:o,param_variables:(new u.LE).set("file_obj_name",o).set("file_size",parseInt(t.files[0].size))};this._UploadImg.uploadfile(r).subscribe(c=>{switch(c.type){case u.dt.Sent:this.uploadimgbyfiletoggle=!0,console.log("Request has been made!");break;case u.dt.ResponseHeader:console.log("Response header has been received!");break;case u.dt.UploadProgress:var w=Math.round(c.loaded/(c.total?c.total:0)*100);this.upimgformpercent=w,console.log(`Uploaded ${w}%`);break;case u.dt.Response:this.uploadimgbyfilesuccess=!0,this.uploadimgbyfiletoggle=!1,this._localService.addquestionproduct.productimgs.push(c.body.newFilename),console.log("Image Uploaded Successfully!",c.body)}},c=>{console.log("Image not Uploaded!"),this.uploadimgbyfiletoggle=!1,this.uploadimgbyfileerror=!0,this.uploadimgbyfileinfo=c.error.message})}else this.uploadimgbyfileinfo="This image is too large, maximal 25MB..."}uploadfilebyurl(t){this._localService.addquestionproduct.productimgs.length>=10?this._snackbar.open("You can only upload maximal 10 images","Close"):(this.uploadimgbyurlsuccess=!1,this.uploadimgbyurlerror=!1,""!==t&&this._UploadImg.uploadfilebyurl({body:{img_url:t},upload_url_suffix:"uploadquestionproductimgbyurl"}).subscribe(c=>{switch(c.type){case u.dt.Sent:this.uploadimgbyurltoggle=!0,console.log("Request has been made!");break;case u.dt.ResponseHeader:console.log("Response header has been received!");break;case u.dt.Response:this.uploadimgbyurltoggle=!1,console.log("Image Uploaded Successfully!",c.body),this.uploadimgbyurlsuccess=!0,this._localService.addquestionproduct.productimgs.push(c.body.newFilename)}},c=>{console.log("Image not Uploaded!"),this.uploadimgbyurltoggle=!1,this.uploadimgbyurlerror=!0,this.uploadimgbyurlinfo=c.error.message}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(N),e.Y36(g.c),e.Y36(W.a),e.Y36(Q.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-new-product-image-form"]],decls:30,vars:14,consts:[[1,"row"],[1,"col"],[3,"navigation","slidesPerView","mousewheel","spaceBetween","pagination"],[4,"ngFor","ngForOf"],[1,"row","justify-content-between"],[1,"col-auto"],[1,"col-auto","text-end"],["color","warn","selected","",3,"click",4,"ngIf"],[1,"row","my-3"],[1,"mb-3"],["for","formFile",1,"form-label"],["type","file",1,"form-control",3,"input"],[4,"ngIf"],["mode","determinate",3,"value",4,"ngIf"],[1,"mt-3"],[1,"input-group","my-3"],["type","text","aria-describedby","button-addon2",1,"form-control"],["urltreeavatar",""],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"click"],["swiperSlide",""],[1,"productimage",3,"id","click"],["color","warn","selected","",3,"click"],[1,"fal","fa-trash","me-2"],[1,"text-success"],["mode","determinate",3,"value"],["mode","query"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"swiper",2),e.YNc(3,We,1,0,void 0,3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"mat-chip-list"),e.YNc(8,Ne,4,0,"mat-chip",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",8),e.TgZ(10,"div",1),e.TgZ(11,"div",9),e.TgZ(12,"label",10),e.TgZ(13,"strong"),e._uU(14,"Images for this question (Optional)"),e.qZA(),e.qZA(),e.TgZ(15,"input",11),e.NdJ("input",function(p){return o.uploadfile(p.target)}),e.qZA(),e.qZA(),e.YNc(16,he,3,0,"mat-hint",12),e.YNc(17,Re,1,1,"mat-progress-bar",13),e.YNc(18,Le,2,1,"mat-error",12),e.TgZ(19,"div",14),e.TgZ(20,"mat-label"),e._uU(21," Or use an image url "),e.qZA(),e.TgZ(22,"div",15),e._UZ(23,"input",16,17),e.TgZ(25,"button",18),e.NdJ("click",function(){e.CHM(r);const p=e.MAs(24);return o.uploadfilebyurl(p.value)}),e._uU(26," Submit "),e.qZA(),e.qZA(),e.YNc(27,ct,2,0,"div",12),e.YNc(28,ve,3,0,"mat-hint",12),e.YNc(29,si,2,1,"mat-error",12),e.qZA(),e.qZA(),e.qZA()}2&t&&(e.xp6(2),e.Q6J("navigation",!0)("slidesPerView",o.slideratio)("mousewheel",!0)("spaceBetween",50)("pagination",e.DdM(13,ai)),e.xp6(1),e.Q6J("ngForOf",o.productimgs),e.xp6(5),e.Q6J("ngIf",o.currentchoosedimg),e.xp6(8),e.Q6J("ngIf",o.uploadimgbyfilesuccess),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyfiletoggle),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyfileerror),e.xp6(9),e.Q6J("ngIf",o.uploadimgbyurltoggle),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyurlsuccess),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyurlerror))},directives:[m.nF,k.sg,E.qn,k.O5,S.hX,m.YC,E.HS,S.bx,_.pW,S.TO],styles:[""]}),i})();function ci(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().productimgselected("a"+r.split(".")[0],r)}),e.qZA()}if(2&i){const t=e.oxw().$implicit,o=e.oxw();e.Jzz("\n            width: 40px;\n            height: 40px;\n            background: url('",o.cdnfolder+t,"') no-repeat center center / cover;\n            "),e.Q6J("id","a"+t.split(".")[0])}}function ui(i,s){1&i&&e.YNc(0,ci,1,4,"ng-template",19)}function di(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().deletetempproductimg()}),e._UZ(1,"i",22),e.TgZ(2,"span"),e._uU(3,"Delete selected"),e.qZA(),e.qZA()}}function mi(i,s){1&i&&(e.TgZ(0,"mat-hint"),e.TgZ(1,"span",23),e._uU(2,"Image uploaded successfully"),e.qZA(),e.qZA())}function pi(i,s){if(1&i&&e._UZ(0,"mat-progress-bar",24),2&i){const t=e.oxw();e.Q6J("value",t.upimgformpercent)}}function gi(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.uploadimgbyfileinfo," ")}}function hi(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"mat-progress-bar",25),e.qZA())}function _i(i,s){1&i&&(e.TgZ(0,"mat-hint"),e.TgZ(1,"span",23),e._uU(2,"Image uploaded successfully"),e.qZA(),e.qZA())}function fi(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.uploadimgbyurlinfo," ")}}const vi=function(){return{clickable:!0,dynamicBullets:!0}};let wi=(()=>{class i{constructor(t,o,r,c){this._localService=t,this._UploadImg=o,this._fetchAPI=r,this._snackbar=c,this.uploadimgbyfiletoggle=!1,this.uploadimgbyfilesuccess=!1,this.upimgformpercent=0,this.uploadimgbyfileerror=!1,this.uploadimgbyfileinfo="",this.uploadimgbyurltoggle=!1,this.uploadimgbyurlinfo="",this.uploadimgbyurlerror=!1,this.uploadimgbyurlsuccess=!1}get cdnfolder(){return this._localService.addquestionproduct.cdnfolder}get productanswerimgs(){return this._localService.addquestionproduct.answer_imgs}get slideratio(){return this._localService.addquestionproduct.slideratio}ngOnInit(){this._localService.addquestionproduct.answer_imgs=[]}uploadfile(t){if(this._localService.addquestionproduct.answer_imgs.length>=10)this._snackbar.open("You can only upload maximal 10 images","Close");else if(this.uploadimgbyfilesuccess=!1,this.uploadimgbyfileerror=!1,1==t.files.length){const o="Product_Answer_Image";let r={upload_url_suffix:"uploadquestionproductanswerimgbyimgfile",inputfile:t.files[0],FileObjName:o,param_variables:(new u.LE).set("file_obj_name",o).set("file_size",parseInt(t.files[0].size))};this._UploadImg.uploadfile(r).subscribe(c=>{switch(c.type){case u.dt.Sent:this.uploadimgbyfiletoggle=!0,console.log("Request has been made!");break;case u.dt.ResponseHeader:console.log("Response header has been received!");break;case u.dt.UploadProgress:var w=Math.round(c.loaded/(c.total?c.total:0)*100);this.upimgformpercent=w,console.log(`Uploaded ${w}%`);break;case u.dt.Response:this.uploadimgbyfilesuccess=!0,this.uploadimgbyfiletoggle=!1,this._localService.addquestionproduct.answer_imgs.push(c.body.newFilename),console.log("Image Uploaded Successfully!",c.body)}},c=>{console.log("Image not Uploaded!"),this.uploadimgbyfiletoggle=!1,this.uploadimgbyfileerror=!0,this.uploadimgbyfileinfo=c.error.message})}else this.uploadimgbyfileinfo="This image is too large, maximal 25MB..."}uploadfilebyurl(t){this._localService.addquestionproduct.answer_imgs.length>=10?this._snackbar.open("You can only upload maximal 10 images","Close"):(this.uploadimgbyurlsuccess=!1,this.uploadimgbyurlerror=!1,""!==t&&this._UploadImg.uploadfilebyurl({body:{img_url:t},upload_url_suffix:"uploadquestionproductanswerimgbyurl"}).subscribe(c=>{switch(c.type){case u.dt.Sent:this.uploadimgbyurltoggle=!0,console.log("Request has been made!");break;case u.dt.ResponseHeader:console.log("Response header has been received!");break;case u.dt.Response:this.uploadimgbyurltoggle=!1,console.log("Image Uploaded Successfully!",c.body),this.uploadimgbyurlsuccess=!0,this._localService.addquestionproduct.answer_imgs.push(c.body.newFilename)}},c=>{console.log("Image not Uploaded!"),this.uploadimgbyurltoggle=!1,this.uploadimgbyurlerror=!0,this.uploadimgbyurlinfo=c.error.message}))}deletetempproductimg(){this.currentchoosedimg&&this._fetchAPI.postAPI({urlsuffix:"deletetemporaryquestionproductimg",body:{img_name:this.currentchoosedimg}}).then(()=>{let r=this._localService.addquestionproduct.answer_imgs.indexOf(this.currentchoosedimg);this._localService.addquestionproduct.answer_imgs.splice(r,1),this.currentchoosedimg=void 0}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")})}productimgselected(t,o){document.querySelectorAll(".productanswerimage").forEach(p=>{p.classList.remove("border")});let c=document.querySelector("#"+t);c&&(this.currentchoosedimg=o,c.classList.add("border","border-primary","border-4"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(N),e.Y36(g.c),e.Y36(W.a),e.Y36(Q.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-new-product-answer-img-form"]],decls:30,vars:14,consts:[[1,"row"],[1,"col"],[3,"navigation","slidesPerView","mousewheel","spaceBetween","pagination"],[4,"ngFor","ngForOf"],[1,"row","justify-content-between"],[1,"col-auto"],[1,"col-auto","text-end"],["color","warn","selected","",3,"click",4,"ngIf"],[1,"row","my-3"],[1,"mb-3"],["for","formFile",1,"form-label"],["type","file",1,"form-control",3,"input"],[4,"ngIf"],["mode","determinate",3,"value",4,"ngIf"],[1,"mt-3"],[1,"input-group","my-3"],["type","text","aria-describedby","button-addon2",1,"form-control"],["urltreeavatar",""],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"click"],["swiperSlide",""],[1,"productanswerimage",3,"id","click"],["color","warn","selected","",3,"click"],[1,"fal","fa-trash","me-2"],[1,"text-success"],["mode","determinate",3,"value"],["mode","query"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"swiper",2),e.YNc(3,ui,1,0,void 0,3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"mat-chip-list"),e.YNc(8,di,4,0,"mat-chip",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",8),e.TgZ(10,"div",1),e.TgZ(11,"div",9),e.TgZ(12,"label",10),e.TgZ(13,"strong"),e._uU(14,"Images for this answer (Optional)"),e.qZA(),e.qZA(),e.TgZ(15,"input",11),e.NdJ("input",function(p){return o.uploadfile(p.target)}),e.qZA(),e.qZA(),e.YNc(16,mi,3,0,"mat-hint",12),e.YNc(17,pi,1,1,"mat-progress-bar",13),e.YNc(18,gi,2,1,"mat-error",12),e.TgZ(19,"div",14),e.TgZ(20,"mat-label"),e._uU(21," Or use an image url "),e.qZA(),e.TgZ(22,"div",15),e._UZ(23,"input",16,17),e.TgZ(25,"button",18),e.NdJ("click",function(){e.CHM(r);const p=e.MAs(24);return o.uploadfilebyurl(p.value)}),e._uU(26," Submit "),e.qZA(),e.qZA(),e.YNc(27,hi,2,0,"div",12),e.YNc(28,_i,3,0,"mat-hint",12),e.YNc(29,fi,2,1,"mat-error",12),e.qZA(),e.qZA(),e.qZA()}2&t&&(e.xp6(2),e.Q6J("navigation",!0)("slidesPerView",o.slideratio)("mousewheel",!0)("spaceBetween",50)("pagination",e.DdM(13,vi)),e.xp6(1),e.Q6J("ngForOf",o.productanswerimgs),e.xp6(5),e.Q6J("ngIf",o.currentchoosedimg),e.xp6(8),e.Q6J("ngIf",o.uploadimgbyfilesuccess),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyfiletoggle),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyfileerror),e.xp6(9),e.Q6J("ngIf",o.uploadimgbyurltoggle),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyurlsuccess),e.xp6(1),e.Q6J("ngIf",o.uploadimgbyurlerror))},directives:[m.nF,k.sg,E.qn,k.O5,S.hX,m.YC,E.HS,S.bx,_.pW,S.TO],styles:[""]}),i})();function Zi(i,s){1&i&&(e.TgZ(0,"p",20),e._uU(1,"Add new question"),e.qZA())}function bi(i,s){if(1&i&&(e.TgZ(0,"p",20),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("Edit question #",t.questiontoedit,"")}}function Ti(i,s){if(1&i&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.ID),e.xp6(1),e.hij(" ",t.area_name," ")}}function Ai(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",21),e.TgZ(1,"mat-label"),e._uU(2,"Area"),e.qZA(),e.TgZ(3,"mat-select",22),e._UZ(4,"mat-option",23),e.YNc(5,Ti,2,2,"mat-option",24),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.arealist)}}function qi(i,s){if(1&i&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.ID),e.xp6(1),e.hij(" ",t.category_name," ")}}function yi(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",26),e.TgZ(1,"mat-label"),e._uU(2,"Category"),e.qZA(),e.TgZ(3,"mat-select",27),e.YNc(4,qi,2,2,"mat-option",24),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.catlist)}}function xi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw().openAddCategoryDialog()}),e._UZ(1,"i",29),e.qZA()}}let Ci=(()=>{class i{constructor(t,o,r,c,p,w){this.store=t,this.dialog=o,this._localService=r,this.breakpointobserver=c,this._fetchAPI=p,this._snackbar=w,this.productForm=new h.cw({area_ID:new h.NI(0,[h.kI.required,h.kI.min(1)]),category_ID:new h.NI(0,[h.kI.required,h.kI.min(1)]),question_title:new h.NI("",[h.kI.required,h.kI.maxLength(155)]),question_content:new h.NI("",[h.kI.required]),question_answer:new h.NI("",[h.kI.required])}),this.destroy$=new H.xQ,this.modules={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]}}get addoredit(){return this._localService.addquestionproduct.addoredit}ngOnInit(){this.productForm.controls.area_ID.valueChanges.pipe((0,P.R)(this.destroy$)).subscribe(t=>{var o;if(t>0){const r=null===(o=this.arealist)||void 0===o?void 0:o.filter(c=>c.ID==t)[0].child_category_questionproduct;this.catlist=r}else this.catlist=void 0,this.productForm.controls.category_ID.reset();this._localService.addquestionproduct.area_ID=t}),this._localService.questionmarketinfo$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t||!t.questionmarketinfo.product_tree)).subscribe(t=>{this.arealist=t.questionmarketinfo.product_tree,this.productForm.controls.area_ID.reset()}),this._localService.choosed_editpost$.pipe((0,P.R)(this.destroy$)).subscribe(t=>{var o;if(t>0){let r=null===(o=this._localService.addquestionproduct.current_productlist)||void 0===o?void 0:o.filter(p=>p.ID==t)[0];this.productForm.controls.question_title.setValue(null==r?void 0:r.post_title),this.productForm.controls.question_content.setValue(null==r?void 0:r.post_content),this.productForm.controls.question_answer.setValue(r.question_answer.answer_content);let c={area_ID:null,productimgs:r.question_imgs.map(p=>p.media_name),answer_imgs:r.question_answer.answer_imgs.map(p=>p.media_name),product_avatar:r.question_avatar.media_name,addoredit:!1};this.questiontoedit=t,this.answertoedit=r.question_answer.ID,this._localService.addquestionproduct=Object.assign(this._localService.addquestionproduct,c)}else this.resetform()}),this.breakpointobserver.observe([q.u3.XSmall]).pipe((0,P.R)(this.destroy$)).subscribe(t=>{for(const o of Object.keys(t.breakpoints))t.breakpoints[o]&&(this._localService.addquestionproduct.slideratio=q.u3.XSmall.includes(o)?3:5)})}openAddCategoryDialog(){return this.dialog.open(a,{width:"250px"})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}confirmForm(){this.productForm.valid&&confirm("Are you sure that you want to save this product?")&&(this._localService.addquestionproduct.addoredit?this._fetchAPI.postAPI({urlsuffix:"createnewquestionproduct",body:{post_title:this.productForm.value.question_title,post_category:this.productForm.value.category_ID,post_content:this.productForm.value.question_content,answer_content:this.productForm.value.question_answer,questionimgs:this._localService.addquestionproduct.productimgs,answerimgs:this._localService.addquestionproduct.answer_imgs,question_avatar:this._localService.addquestionproduct.product_avatar}}).then(r=>{this.store.dispatch((0,$.Kl)()),this.resetform(),this._snackbar.open("Published successfully","Close")}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")}):this._fetchAPI.postAPI({urlsuffix:"editprivatequestionproduct",body:{post_title:this.productForm.value.question_title,post_category:this.productForm.value.category_ID,post_content:this.productForm.value.question_content,answer_content:this.productForm.value.question_answer,questionimgs:this._localService.addquestionproduct.productimgs,answerimgs:this._localService.addquestionproduct.answer_imgs,question_avatar:this._localService.addquestionproduct.product_avatar,question_ID:this.questiontoedit,answer_ID:this.answertoedit}}).then(r=>{this.store.dispatch((0,$.Kl)()),this.resetform(),this._snackbar.open("Updated successfully","Close")}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")}))}resetform(){this._localService.addquestionproduct=Object.assign(this._localService.addquestionproduct,{area_ID:null,productimgs:[],answer_imgs:[],product_avatar:"",addoredit:!0}),this.productForm.reset()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.yh),e.Y36(C.uw),e.Y36(N),e.Y36(q.Yg),e.Y36(W.a),e.Y36(Q.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-new-product"]],decls:48,vars:8,consts:[[1,"row"],[1,"col"],["class","h3",4,"ngIf"],[1,"mb-5"],[3,"formGroup","ngSubmit"],[1,"col-12","col-md-6"],["appearance","outline",4,"ngIf"],["appearance","outline","style","width: 70%",4,"ngIf"],["type","button","class","ms-2","mat-mini-fab","","color","primary","style","max-width: 20%",3,"click",4,"ngIf"],["appearance","outline",2,"width","100%"],["matInput","","formControlName","question_title","type","text"],[1,"container","p-0","pb-4"],["theme","snow","formControlName","question_content",3,"modules"],["theme","snow","formControlName","question_answer",3,"modules"],[1,"row","mt-3"],[1,"col","text-end"],["mat-raised-button","","color","warn","type","button",1,"me-2",3,"click"],[1,"far","fa-redo","me-2"],["mat-raised-button","","color","accent","type","submit"],[1,"far","fa-check","me-2"],[1,"h3"],["appearance","outline"],["formControlName","area_ID"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["appearance","outline",2,"width","70%"],["formControlName","category_ID","multiple",""],["type","button","mat-mini-fab","","color","primary",1,"ms-2",2,"max-width","20%",3,"click"],[1,"fal","fa-plus"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,Zi,2,0,"p",2),e.YNc(3,bi,2,1,"p",2),e.qZA(),e.qZA(),e.TgZ(4,"mat-card",3),e.TgZ(5,"mat-card-content"),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return o.confirmForm()}),e.TgZ(7,"div",0),e.TgZ(8,"div",5),e.YNc(9,Ai,6,1,"mat-form-field",6),e.qZA(),e.TgZ(10,"div",5),e.YNc(11,yi,5,1,"mat-form-field",7),e.YNc(12,xi,2,0,"button",8),e.qZA(),e.qZA(),e.TgZ(13,"div",0),e.TgZ(14,"div",1),e.TgZ(15,"mat-form-field",9),e.TgZ(16,"mat-label"),e._uU(17," Question Name (Max. 155 characters) "),e.qZA(),e._UZ(18,"input",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",0),e.TgZ(20,"div",1),e._UZ(21,"app-new-product-avatar-form"),e.qZA(),e.qZA(),e.TgZ(22,"div",0),e.TgZ(23,"div",1),e.TgZ(24,"p"),e.TgZ(25,"b"),e._uU(26,"Question Content:"),e.qZA(),e.qZA(),e.TgZ(27,"div",11),e._UZ(28,"quill-editor",12),e.qZA(),e.qZA(),e.qZA(),e._UZ(29,"app-new-product-image-form"),e.TgZ(30,"div",0),e.TgZ(31,"div",1),e.TgZ(32,"p"),e.TgZ(33,"b"),e._uU(34," Answer for this question: "),e.qZA(),e.qZA(),e.TgZ(35,"div",11),e._UZ(36,"quill-editor",13),e.qZA(),e.qZA(),e.qZA(),e._UZ(37,"app-new-product-answer-img-form"),e.TgZ(38,"div",14),e.TgZ(39,"div",15),e.TgZ(40,"button",16),e.NdJ("click",function(){return o.resetform()}),e._UZ(41,"i",17),e.TgZ(42,"span"),e._uU(43,"Reset"),e.qZA(),e.qZA(),e.TgZ(44,"button",18),e._UZ(45,"i",19),e.TgZ(46,"span"),e._uU(47,"Done"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",o.addoredit),e.xp6(1),e.Q6J("ngIf",!o.addoredit),e.xp6(3),e.Q6J("formGroup",o.productForm),e.xp6(3),e.Q6J("ngIf",o.arealist),e.xp6(2),e.Q6J("ngIf",o.arealist&&o.catlist),e.xp6(1),e.Q6J("ngIf",o.arealist&&o.catlist),e.xp6(16),e.Q6J("modules",o.modules),e.xp6(8),e.Q6J("modules",o.modules))},directives:[k.O5,oe.a8,oe.dn,h._Y,h.JL,h.sg,S.KE,S.hX,Te.Nt,h.Fj,h.JJ,h.u,ie,Xe.g6,li,wi,F.lW,ne.gD,me.ey,k.sg],styles:["mat-card[_ngcontent-%COMP%]{width:500px;max-width:90vw;background:rgba(255,255,255,.5);box-shadow:0 8px 32px #1f26875e;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);border-radius:0!important;border:1px solid rgba(255,255,255,.18);-webkit-border-radius:0px!important;-moz-border-radius:0px!important;-ms-border-radius:0px!important;-o-border-radius:0px!important}"]}),i})();var ti=v(9238),ii=v(9490),oi=v(6461),Ii=v(6682),b=v(7238);const ki=["mat-sort-header",""];function Di(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("@arrowPosition.start",function(){return e.CHM(t),e.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return e.CHM(t),e.oxw()._disableViewStateAnimation=!1}),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"div",6),e._UZ(4,"div",7),e._UZ(5,"div",8),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),e.xp6(2),e.Q6J("@indicator",t._getArrowDirectionState()),e.xp6(1),e.Q6J("@leftPointer",t._getArrowDirectionState()),e.xp6(1),e.Q6J("@rightPointer",t._getArrowDirectionState())}}const Si=["*"],Ui=new e.OlP("MAT_SORT_DEFAULT_OPTIONS"),Ni=(0,me.dB)((0,me.Id)(class{}));let Kt=(()=>{class i extends Ni{constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new H.xQ,this.start="asc",this._direction="",this.sortChange=new e.vpe}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=(0,ii.Ig)(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){var o,r,c;if(!t)return"";const p=null!==(r=null!==(o=null==t?void 0:t.disableClear)&&void 0!==o?o:this.disableClear)&&void 0!==r?r:!!(null===(c=this._defaultOptions)||void 0===c?void 0:c.disableClear);let w=function(i,s){let t=["asc","desc"];return"desc"==i&&t.reverse(),s||t.push(""),t}(t.start||this.start,p),I=w.indexOf(this.direction)+1;return I>=w.length&&(I=0),w[I]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ui,8))},i.\u0275dir=e.lG2({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[e.qOj,e.TTD]}),i})();const Pe=me.mZ.ENTERING+" "+me.yN.STANDARD_CURVE,Ke={indicator:(0,b.X$)("indicator",[(0,b.SB)("active-asc, asc",(0,b.oB)({transform:"translateY(0px)"})),(0,b.SB)("active-desc, desc",(0,b.oB)({transform:"translateY(10px)"})),(0,b.eR)("active-asc <=> active-desc",(0,b.jt)(Pe))]),leftPointer:(0,b.X$)("leftPointer",[(0,b.SB)("active-asc, asc",(0,b.oB)({transform:"rotate(-45deg)"})),(0,b.SB)("active-desc, desc",(0,b.oB)({transform:"rotate(45deg)"})),(0,b.eR)("active-asc <=> active-desc",(0,b.jt)(Pe))]),rightPointer:(0,b.X$)("rightPointer",[(0,b.SB)("active-asc, asc",(0,b.oB)({transform:"rotate(45deg)"})),(0,b.SB)("active-desc, desc",(0,b.oB)({transform:"rotate(-45deg)"})),(0,b.eR)("active-asc <=> active-desc",(0,b.jt)(Pe))]),arrowOpacity:(0,b.X$)("arrowOpacity",[(0,b.SB)("desc-to-active, asc-to-active, active",(0,b.oB)({opacity:1})),(0,b.SB)("desc-to-hint, asc-to-hint, hint",(0,b.oB)({opacity:.54})),(0,b.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,b.oB)({opacity:0})),(0,b.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,b.jt)("0ms")),(0,b.eR)("* <=> *",(0,b.jt)(Pe))]),arrowPosition:(0,b.X$)("arrowPosition",[(0,b.eR)("* => desc-to-hint, * => desc-to-active",(0,b.jt)(Pe,(0,b.F4)([(0,b.oB)({transform:"translateY(-25%)"}),(0,b.oB)({transform:"translateY(0)"})]))),(0,b.eR)("* => hint-to-desc, * => active-to-desc",(0,b.jt)(Pe,(0,b.F4)([(0,b.oB)({transform:"translateY(0)"}),(0,b.oB)({transform:"translateY(25%)"})]))),(0,b.eR)("* => asc-to-hint, * => asc-to-active",(0,b.jt)(Pe,(0,b.F4)([(0,b.oB)({transform:"translateY(25%)"}),(0,b.oB)({transform:"translateY(0)"})]))),(0,b.eR)("* => hint-to-asc, * => active-to-asc",(0,b.jt)(Pe,(0,b.F4)([(0,b.oB)({transform:"translateY(0)"}),(0,b.oB)({transform:"translateY(-25%)"})]))),(0,b.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,b.oB)({transform:"translateY(0)"})),(0,b.SB)("hint-to-desc, active-to-desc, desc",(0,b.oB)({transform:"translateY(-25%)"})),(0,b.SB)("hint-to-asc, active-to-asc, asc",(0,b.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,b.X$)("allowChildren",[(0,b.eR)("* <=> *",[(0,b.IO)("@*",(0,b.pV)(),{optional:!0})])])};let St=(()=>{class i{constructor(){this.changes=new H.xQ}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();const Mi={provide:St,deps:[[new e.FiY,new e.tp0,St]],useFactory:function(i){return i||new St}},Qi=(0,me.Id)(class{});let Yi=(()=>{class i extends Qi{constructor(t,o,r,c,p,w,I){super(),this._intl=t,this._changeDetectorRef=o,this._sort=r,this._columnDef=c,this._focusMonitor=p,this._elementRef=w,this._ariaDescriber=I,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=(0,ii.Ig)(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector('[role="button"]'),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const o=!!t;o!==this._showIndicatorHint&&(this._setIndicatorHintVisible(o),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(t.keyCode===oi.L_||t.keyCode===oi.K5)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){var o,r;this._sortButton&&(null===(o=this._ariaDescriber)||void 0===o||o.removeDescription(this._sortButton,this._sortActionDescription),null===(r=this._ariaDescriber)||void 0===r||r.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=(0,Ii.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(St),e.Y36(e.sBO),e.Y36(Kt,8),e.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),e.Y36(ti.tE),e.Y36(e.SBq),e.Y36(ti.$s,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,o){1&t&&e.NdJ("click",function(){return o._handleClick()})("keydown",function(c){return o._handleKeydown(c)})("mouseenter",function(){return o._setIndicatorHintVisible(!0)})("mouseleave",function(){return o._setIndicatorHintVisible(!1)}),2&t&&(e.uIk("aria-sort",o._getAriaSortAttribute()),e.ekj("mat-sort-header-disabled",o._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",sortActionDescription:"sortActionDescription",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[e.qOj],attrs:ki,ngContentSelectors:Si,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,Di,6,6,"div",2),e.qZA()),2&t&&(e.ekj("mat-sort-header-sorted",o._isSorted())("mat-sort-header-position-before","before"==o.arrowPosition),e.uIk("tabindex",o._isDisabled()?null:0),e.xp6(3),e.Q6J("ngIf",o._renderArrow()))},directives:[k.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[Ke.indicator,Ke.leftPointer,Ke.rightPointer,Ke.arrowOpacity,Ke.arrowPosition,Ke.allowChildren]},changeDetection:0}),i})(),Ji=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Mi],imports:[[k.ez,me.BQ]]}),i})();function Oi(i,s){1&i&&(e.TgZ(0,"th",17),e._uU(1," ID "),e.qZA())}function Fi(i,s){if(1&i&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.ID)}}function Ei(i,s){1&i&&(e.TgZ(0,"th",19),e._uU(1," Title "),e.qZA())}function Li(i,s){if(1&i&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.post_title)}}function Hi(i,s){1&i&&(e.TgZ(0,"th",20),e._uU(1,"Action"),e.qZA())}function Bi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",18),e.TgZ(1,"button",21),e._UZ(2,"i",22),e.qZA(),e.TgZ(3,"mat-menu",null,23),e.TgZ(5,"button",24),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(2).emiteditID(c.ID)}),e._UZ(6,"i",25),e._uU(7," Edit "),e.qZA(),e.TgZ(8,"button",24),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(2).deleteSingleQuestion(c.ID)}),e._UZ(9,"i",26),e._uU(10," Delete "),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(4);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function $i(i,s){1&i&&e._UZ(0,"tr",27)}function zi(i,s){1&i&&e._UZ(0,"tr",28)}const Vi=function(){return[5,10,20]};function ji(i,s){if(1&i&&(e.TgZ(0,"div",4),e.TgZ(1,"div",5),e.TgZ(2,"table",6),e.ynx(3,7),e.YNc(4,Oi,2,0,"th",8),e.YNc(5,Fi,2,1,"td",9),e.BQk(),e.ynx(6,10),e.YNc(7,Ei,2,0,"th",11),e.YNc(8,Li,2,1,"td",9),e.BQk(),e.ynx(9,12),e.YNc(10,Hi,2,0,"th",13),e.YNc(11,Bi,11,1,"td",9),e.BQk(),e.YNc(12,$i,1,0,"tr",14),e.YNc(13,zi,1,0,"tr",15),e.qZA(),e.qZA(),e._UZ(14,"mat-paginator",16),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("dataSource",t.tableData),e.xp6(10),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Vi))}}let Xi=(()=>{class i{constructor(t,o,r,c){this.store=t,this._localService=o,this.fetchapimethods=r,this._snackbar=c,this.displayedColumns=["ID","post_title","action"],this.productlist$=new H.xQ,this.tableData=new D.by([]),this.destroy$=new H.xQ}ngAfterViewInit(){this.tableData.paginator=this.paginator,this.tableData.sort=this._matsort}ngOnInit(){this.productlist$.pipe((0,P.R)(this.destroy$)).subscribe(t=>{this.tableData.data=t,this._localService.addquestionproduct.current_productlist=t}),this._localService.allquestions$.pipe((0,P.R)(this.destroy$)).subscribe(t=>{let o=t.filter(r=>r.post_author==parseInt(localStorage.getItem("user_id"))&&"publish"==r.post_status);this.productlist$.next(o)})}deleteSingleQuestion(t){confirm("Are you sure you want to delete this question?")&&this.fetchapimethods.postAPI({urlsuffix:"userdeletesinglequestionproduct",body:{question_ID:t}}).then(r=>{this._snackbar.open("Deleted sucessfully","Close"),this.store.dispatch((0,$.Kl)())}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")})}emiteditID(t){this._localService.choosed_editpost$.next(t)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.yh),e.Y36(N),e.Y36(W.a),e.Y36(Q.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-private-product-manager-table"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Ze.NW,5),e.Gf(Kt,5)),2&t){let r;e.iGM(r=e.CRH())&&(o.paginator=r.first),e.iGM(r=e.CRH())&&(o._matsort=r.first)}},decls:5,vars:1,consts:[[1,"row"],[1,"col","text-center"],[1,"h3","mb-4"],["class","container",4,"ngIf"],[1,"container"],[1,"table-container"],["mat-table","","matSort","","matSortActive","ID","matSortDisableClear","","matSortDirection","desc",2,"width","100%",3,"dataSource"],["matColumnDef","ID"],["mat-header-cell","","mat-sort-header","","style","width: 20%",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","post_title"],["mat-header-cell","","mat-sort-header","","style","width: 60%",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","style","width: 20%",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","",2,"width","20%"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",2,"width","60%"],["mat-header-cell","",2,"width","20%"],["mat-button","",3,"matMenuTriggerFor"],[1,"fal","fa-ellipsis-v-alt"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"fa-thin","fa-pen-to-square"],[1,"fa-thin","fa-trash-can"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p",2),e._uU(3,"All Your Question"),e.qZA(),e.qZA(),e.qZA(),e.YNc(4,ji,15,5,"div",3)),2&t&&(e.xp6(4),e.Q6J("ngIf",o.tableData))},directives:[k.O5,D.BZ,Kt,D.w1,D.fO,D.Dz,D.as,D.nj,Ze.NW,D.ge,Yi,D.ev,F.lW,te.p6,te.VK,te.OP,D.XQ,D.Gk],styles:[""]}),i})(),Wi=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-question-manager-page"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-12","col-lg-7","d-flex","justify-content-center"],[1,"col-12","col-lg-5"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"app-add-new-product"),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-private-product-manager-table"),e.qZA(),e.qZA(),e.qZA())},directives:[Ci,Xi],styles:[""]}),i})();var ni=v(3290);const Ki=["imguploader"];function Gi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).productimgselected("a"+r.split(".")[0],r)}),e.qZA()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.Jzz("\n                  width: 40px;\n                  height: 40px;\n                  background: url('",o.cdnfolder+t,"') no-repeat center center / cover;\n                  "),e.Q6J("id","a"+t.split(".")[0])}}function eo(i,s){1&i&&e.YNc(0,Gi,1,4,"ng-template",28)}function to(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",30),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).deletetempproductimg()}),e._UZ(1,"i",31),e.TgZ(2,"span"),e._uU(3,"Delete selected"),e.qZA(),e.qZA()}}function io(i,s){1&i&&(e.TgZ(0,"mat-hint"),e.TgZ(1,"span",32),e._uU(2,"Image uploaded successfully"),e.qZA(),e.qZA())}function oo(i,s){if(1&i&&e._UZ(0,"mat-progress-bar",33),2&i){const t=e.oxw(2);e.Q6J("value",t.upimgformpercent)}}function no(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.uploadimgbyfileinfo," ")}}function ro(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"mat-progress-bar",34),e.qZA())}function so(i,s){1&i&&(e.TgZ(0,"mat-hint"),e.TgZ(1,"span",32),e._uU(2,"Image uploaded successfully"),e.qZA(),e.qZA())}function ao(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.uploadimgbyurlinfo," ")}}function lo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",35),e.TgZ(1,"div",4),e.TgZ(2,"re-captcha",36),e.NdJ("resolved",function(r){return e.CHM(t),e.oxw(2).resolvedCaptcha(r)}),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("siteKey",t.recaptchaKey)}}const co=function(){return{clickable:!0,dynamicBullets:!0}};function uo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1,2),e.TgZ(2,"div",3),e.TgZ(3,"div",4),e.TgZ(4,"p",5),e._uU(5,"Your reply:"),e.qZA(),e.TgZ(6,"div",6),e._UZ(7,"quill-editor",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.TgZ(9,"div",4),e.TgZ(10,"swiper",8),e.YNc(11,eo,1,0,void 0,9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",10),e._UZ(13,"div",11),e.TgZ(14,"div",12),e.TgZ(15,"mat-chip-list"),e.YNc(16,to,4,0,"mat-chip",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",14),e.TgZ(18,"div",4),e.TgZ(19,"div",15),e.TgZ(20,"label",16),e.TgZ(21,"strong"),e._uU(22,"Images for this answer (Optional)"),e.qZA(),e.qZA(),e.TgZ(23,"input",17),e.NdJ("input",function(r){return e.CHM(t),e.oxw().uploadfile(r.target)}),e.qZA(),e.qZA(),e.YNc(24,io,3,0,"mat-hint",18),e.YNc(25,oo,1,1,"mat-progress-bar",19),e.YNc(26,no,2,1,"mat-error",18),e.TgZ(27,"div",20),e.TgZ(28,"mat-label"),e._uU(29," Or use an image url "),e.qZA(),e.TgZ(30,"div",21),e._UZ(31,"input",22,23),e.TgZ(33,"button",24),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(32);return e.oxw().uploadfilebyurl(r.value)}),e._uU(34," Submit "),e.qZA(),e.qZA(),e.YNc(35,ro,2,0,"div",18),e.YNc(36,so,3,0,"mat-hint",18),e.YNc(37,ao,2,1,"mat-error",18),e.qZA(),e.qZA(),e.qZA(),e.YNc(38,lo,3,1,"div",25),e.TgZ(39,"div",3),e.TgZ(40,"div",4),e.TgZ(41,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmAnswer()}),e._UZ(42,"i",27),e._uU(43,"G\u1eedi "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("modules",t.modules)("formControl",t.answer_content),e.xp6(3),e.Q6J("navigation",!0)("slidesPerView",t.slideratio)("mousewheel",!0)("spaceBetween",50)("pagination",e.DdM(16,co)),e.xp6(1),e.Q6J("ngForOf",t.user_answerimgs),e.xp6(5),e.Q6J("ngIf",t.currentchoosedimg),e.xp6(8),e.Q6J("ngIf",t.uploadimgbyfilesuccess),e.xp6(1),e.Q6J("ngIf",t.uploadimgbyfiletoggle),e.xp6(1),e.Q6J("ngIf",t.uploadimgbyfileerror),e.xp6(9),e.Q6J("ngIf",t.uploadimgbyurltoggle),e.xp6(1),e.Q6J("ngIf",t.uploadimgbyurlsuccess),e.xp6(1),e.Q6J("ngIf",t.uploadimgbyurlerror),e.xp6(1),e.Q6J("ngIf",t.answer_content.touched||t.answer_content.value)}}let ri=(()=>{class i{constructor(t,o,r,c,p,w){this._localService=t,this._UploadImg=o,this._fetchAPI=r,this._snackbar=c,this.socket=p,this.store=w,this.answered=!1,this.answer_content=new h.NI("",[h.kI.required]),this.captchacheck=new h.NI("",[h.kI.required]),this.recaptchaKey=Ae.N.RECAPTCHA_SITE_KEY,this.user_answerimgs=[],this.destroy$=new H.xQ,this.uploadimgbyfiletoggle=!1,this.uploadimgbyfilesuccess=!1,this.upimgformpercent=0,this.uploadimgbyfileerror=!1,this.uploadimgbyfileinfo="",this.uploadimgbyurltoggle=!1,this.uploadimgbyurlinfo="",this.uploadimgbyurlerror=!1,this.uploadimgbyurlsuccess=!1}get cdnfolder(){return this._localService.addquestionproduct.cdnfolder}resolvedCaptcha(t){this.captchacheck.setValue(t)}get slideratio(){return this._localService.addquestionproduct.slideratio}ngOnInit(){this._localService.allquestions$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t)).subscribe(t=>{let o=t.find(r=>r.ID==this.question_ID);o&&o.questionmarket_user_answer&&o.questionmarket_user_answer.find(c=>c.user_ID==parseInt(localStorage.getItem("user_id")))&&(this.answered=!0)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}uploadfile(t){if(this.user_answerimgs.length>=10)this._snackbar.open("You can only upload maximal 10 images","Close");else if(this.uploadimgbyfilesuccess=!1,this.uploadimgbyfileerror=!1,1==t.files.length){const o="User_Answer_Image";let r={upload_url_suffix:"uploadquestionmarketuseranswerimgbyimgfile",inputfile:t.files[0],FileObjName:o,param_variables:(new u.LE).set("file_obj_name",o).set("file_size",parseInt(t.files[0].size))};this._UploadImg.uploadfile(r).subscribe(c=>{switch(c.type){case u.dt.Sent:this.uploadimgbyfiletoggle=!0,console.log("Request has been made!");break;case u.dt.ResponseHeader:console.log("Response header has been received!");break;case u.dt.UploadProgress:var w=Math.round(c.loaded/(c.total?c.total:0)*100);this.upimgformpercent=w,console.log(`Uploaded ${w}%`);break;case u.dt.Response:this.uploadimgbyfilesuccess=!0,this.uploadimgbyfiletoggle=!1,this.user_answerimgs.push(c.body.newFilename),console.log("Image Uploaded Successfully!",c.body)}},c=>{console.log("Image not Uploaded!"),this.uploadimgbyfiletoggle=!1,this.uploadimgbyfileerror=!0,this.uploadimgbyfileinfo=c.error.message})}else this.uploadimgbyfileinfo="This image is too large, maximal 25MB..."}uploadfilebyurl(t){this.user_answerimgs.length>=10?this._snackbar.open("You can only upload maximal 10 images","Close"):(this.uploadimgbyurlsuccess=!1,this.uploadimgbyurlerror=!1,""!==t&&this._UploadImg.uploadfilebyurl({body:{img_url:t},upload_url_suffix:"uploadquestionmarketuseranswerimgbyurl"}).subscribe(c=>{switch(c.type){case u.dt.Sent:this.uploadimgbyurltoggle=!0,console.log("Request has been made!");break;case u.dt.ResponseHeader:console.log("Response header has been received!");break;case u.dt.Response:this.uploadimgbyurltoggle=!1,console.log("Image Uploaded Successfully!",c.body),this.uploadimgbyurlsuccess=!0,this.user_answerimgs.push(c.body.newFilename)}},c=>{console.log("Image not Uploaded!"),this.uploadimgbyurltoggle=!1,this.uploadimgbyurlerror=!0,this.uploadimgbyurlinfo=c.error.message}))}deletetempproductimg(){this.currentchoosedimg&&this._fetchAPI.postAPI({urlsuffix:"deletetemporaryquestionuseranswerimg",body:{img_name:this.currentchoosedimg}}).then(()=>{let r=this.user_answerimgs.indexOf(this.currentchoosedimg);this.user_answerimgs.splice(r,1),this.currentchoosedimg=void 0}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")})}productimgselected(t,o){this.imguploader.nativeElement.querySelectorAll(".useranswerimage").forEach(p=>{p.classList.remove("border")});let c=document.querySelector("#"+t);c&&(this.currentchoosedimg=o,c.classList.add("border","border-primary","border-4"))}confirmAnswer(){var t=this;return(0,be.Z)(function*(){if(t.answer_content.valid&&t.captchacheck.valid){let r={urlsuffix:"usersubmitquestionanswer",body:{answer_content:t.answer_content.value,answer_imgs:t.user_answerimgs,question_ID:t.question_ID}};yield t._fetchAPI.postAPI(r).then(c=>{c&&c.length>0&&"number"==typeof c[0]&&t.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:c}),t._snackbar.open("Your answer is submitted successfully","Close"),t.store.dispatch((0,$.Kl)())}).catch(c=>{console.log(c.error),t._snackbar.open(c.error.message,"Close")})}else t._snackbar.open("Please fill out all required fields before submitting...","Close")})()}get modules(){return this._localService.quillModule}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(N),e.Y36(g.c),e.Y36(W.a),e.Y36(Q.ux),e.Y36(de.sk),e.Y36(z.yh))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-product-answer-card"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ki,5),2&t){let r;e.iGM(r=e.CRH())&&(o.imguploader=r.first)}},inputs:{question_ID:"question_ID"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["imguploader",""],[1,"row"],[1,"col"],[1,"h4"],[1,"container","p-0","mb-3"],["theme","snow",3,"modules","formControl"],[3,"navigation","slidesPerView","mousewheel","spaceBetween","pagination"],[4,"ngFor","ngForOf"],[1,"row","justify-content-between"],[1,"col-auto"],[1,"col-auto","text-end"],["color","warn","selected","",3,"click",4,"ngIf"],[1,"row","my-3"],[1,"mb-3"],["for","formFile",1,"form-label"],["type","file",1,"form-control",3,"input"],[4,"ngIf"],["mode","determinate",3,"value",4,"ngIf"],[1,"mt-3"],[1,"input-group","my-3"],["type","text","aria-describedby","button-addon2",1,"form-control"],["urltreeavatar",""],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"click"],["class","row mb-3",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"fal","fa-check","h5","m-0","me-2"],["swiperSlide",""],[1,"useranswerimage",3,"id","click"],["color","warn","selected","",3,"click"],[1,"fal","fa-trash","me-2"],[1,"text-success"],["mode","determinate",3,"value"],["mode","query"],[1,"row","mb-3"],[3,"siteKey","resolved"]],template:function(t,o){1&t&&e.YNc(0,uo,44,17,"div",0),2&t&&e.Q6J("ngIf",!o.answered)},directives:[k.O5,Xe.g6,h.JJ,h.oH,m.nF,k.sg,E.qn,S.hX,F.lW,m.YC,E.HS,S.bx,_.pW,S.TO,ni.wT],styles:[""]}),i})();var ut=v(1769);function mo(i,s){if(1&i&&(e.TgZ(0,"div",10),e.TgZ(1,"div",11),e._UZ(2,"app-image-viewer",12),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function po(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",11),e._UZ(2,"app-product-answer-card",14),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("question_ID",t.question.ID)}}function go(i,s){if(1&i&&(e.TgZ(0,"div",10),e.TgZ(1,"div",11),e._UZ(2,"app-image-viewer",12),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function ho(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",11),e.TgZ(2,"p",17),e._uU(3," This answer is reported with notes: "),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(5),e.hij(" ",t.user_answer.report_notes," ")}}function _o(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",11),e.TgZ(2,"p",15),e._uU(3,"You answered this question"),e.qZA(),e.TgZ(4,"p",6),e.TgZ(5,"u"),e.TgZ(6,"b"),e._uU(7,"Your answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(8,"p",16),e.YNc(9,go,3,1,"div",8),e.YNc(10,ho,6,1,"div",9),e.TgZ(11,"div",13),e.TgZ(12,"div",11),e.TgZ(13,"mat-hint"),e._uU(14," *** If you still think that you answer has no problem, please contact admin for more information "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(8),e.Q6J("innerHTML",t.user_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.question_imgnames.length>0),e.xp6(1),e.Q6J("ngIf",t.user_answer.is_reported)}}function fo(i,s){if(1&i&&(e.TgZ(0,"div",10),e.TgZ(1,"div",11),e._UZ(2,"app-image-viewer",12),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("image_names",t.original_answer_imgnames)}}function vo(i,s){if(1&i&&(e.TgZ(0,"div",10),e.TgZ(1,"div",11),e._UZ(2,"app-image-viewer",12),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function wo(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",11),e.TgZ(2,"p",15),e.TgZ(3,"b"),e.TgZ(4,"u"),e._UZ(5,"i",18),e._uU(6,"Original Answer"),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"div",7),e.YNc(8,fo,3,1,"div",8),e.TgZ(9,"div",10),e.TgZ(10,"div",11),e._UZ(11,"mat-divider"),e.qZA(),e.qZA(),e.TgZ(12,"p",17),e._uU(13,"You reported this answer"),e.qZA(),e.TgZ(14,"p"),e.TgZ(15,"u"),e.TgZ(16,"b"),e._uU(17,"Answer content:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(18,"p",16),e.YNc(19,vo,3,1,"div",8),e.TgZ(20,"div",13),e.TgZ(21,"div",11),e.TgZ(22,"p",17),e._uU(23,"Your notes:"),e.qZA(),e.TgZ(24,"p"),e._uU(25),e.qZA(),e.TgZ(26,"mat-hint"),e._uU(27," *** If you still think that you report is right, please contact admin for more information "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(7),e.Q6J("innerHTML",t.original_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.original_answer_imgnames.length>0),e.xp6(10),e.Q6J("innerHTML",t.user_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.question_imgnames.length>0),e.xp6(6),e.hij(" ",t.user_answer.report_notes," ")}}function Zo(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",11),e.YNc(2,_o,15,3,"div",9),e.YNc(3,wo,28,5,"div",9),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.user_answer&&t.answerorReport),e.xp6(1),e.Q6J("ngIf",t.user_answer&&t.original_answer&&!t.answerorReport)}}function bo(i,s){if(1&i&&(e.TgZ(0,"div",10),e.TgZ(1,"div",11),e._UZ(2,"app-image-viewer",12),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function To(i,s){1&i&&(e.TgZ(0,"button",24),e._UZ(1,"i",25),e._uU(2," Right "),e.qZA())}function Ao(i,s){1&i&&(e.TgZ(0,"button",26),e._UZ(1,"i",27),e._uU(2," Wrong "),e.qZA())}function qo(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",11),e.TgZ(2,"p",15),e.TgZ(3,"b"),e.TgZ(4,"u"),e._UZ(5,"i",18),e._uU(6,"Original answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"div",7),e.TgZ(8,"div",10),e.TgZ(9,"div",11),e._UZ(10,"mat-divider"),e.qZA(),e.qZA(),e.TgZ(11,"p"),e._UZ(12,"i",19),e._uU(13,"You reviewed this answer"),e.qZA(),e.TgZ(14,"p"),e.TgZ(15,"u"),e.TgZ(16,"b"),e._UZ(17,"i",20),e._uU(18,"User's answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(19,"p",16),e.YNc(20,bo,3,1,"div",8),e.TgZ(21,"p"),e.TgZ(22,"b"),e.TgZ(23,"u"),e._UZ(24,"i",20),e._uU(25,"Your review:"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"p"),e._uU(27," This answer is: "),e.YNc(28,To,3,0,"button",21),e.YNc(29,Ao,3,0,"button",22),e.qZA(),e.TgZ(30,"p"),e._uU(31," Your review content: "),e.qZA(),e._UZ(32,"div",7),e.TgZ(33,"div",10),e.TgZ(34,"div",11),e._UZ(35,"mat-divider"),e.qZA(),e.qZA(),e.TgZ(36,"div",13),e.TgZ(37,"div",11),e.TgZ(38,"p",17),e._UZ(39,"i",23),e._uU(40,"Your review is reported with notes: "),e.qZA(),e.TgZ(41,"p"),e._uU(42),e.qZA(),e.TgZ(43,"mat-hint"),e._uU(44," *** If you still think that you review is right, please contact admin for more information "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(7),e.Q6J("innerHTML",t.original_answer.answer_content,e.oJD),e.xp6(12),e.Q6J("innerHTML",t.user_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.question_imgnames.length>0),e.xp6(8),e.Q6J("ngIf",t.foundReview.correctness),e.xp6(1),e.Q6J("ngIf",!t.foundReview.correctness),e.xp6(3),e.Q6J("innerHTML",t.foundReview.review_content,e.oJD),e.xp6(10),e.hij(" ",t.foundReview.report_notes," ")}}function yo(i,s){if(1&i&&(e.TgZ(0,"div",10),e.TgZ(1,"div",11),e._UZ(2,"app-image-viewer",12),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function xo(i,s){1&i&&(e.TgZ(0,"button",24),e._UZ(1,"i",25),e._uU(2," Right "),e.qZA())}function Co(i,s){1&i&&(e.TgZ(0,"button",26),e._UZ(1,"i",27),e._uU(2," Wrong "),e.qZA())}function Io(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",11),e.TgZ(2,"p",15),e.TgZ(3,"b"),e.TgZ(4,"u"),e._UZ(5,"i",18),e._uU(6,"Original answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"div",7),e.TgZ(8,"div",28),e.TgZ(9,"div",11),e._UZ(10,"mat-divider"),e.qZA(),e.qZA(),e.TgZ(11,"p",17),e._UZ(12,"i",29),e._uU(13,"Your report to this review is denied "),e.qZA(),e.TgZ(14,"p"),e.TgZ(15,"u"),e.TgZ(16,"b"),e._uU(17,"Your answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(18,"p",16),e.YNc(19,yo,3,1,"div",8),e.TgZ(20,"p"),e.TgZ(21,"b"),e.TgZ(22,"u"),e._uU(23,"Review for your answer:"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"p"),e._uU(25," Your answer is: "),e.YNc(26,xo,3,0,"button",21),e.YNc(27,Co,3,0,"button",22),e.qZA(),e.TgZ(28,"p"),e._uU(29," Review content: "),e.qZA(),e._UZ(30,"div",7),e.TgZ(31,"div",28),e.TgZ(32,"div",11),e._UZ(33,"mat-divider"),e.qZA(),e.qZA(),e.TgZ(34,"p",30),e.TgZ(35,"b"),e.TgZ(36,"u"),e._UZ(37,"i",31),e._uU(38,"Your report:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(39,"p",16),e.TgZ(40,"div",13),e.TgZ(41,"div",11),e.TgZ(42,"mat-hint"),e._uU(43," *** If you still think that you report is right, please contact admin for more information "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(7),e.Q6J("innerHTML",t.original_answer.answer_content,e.oJD),e.xp6(11),e.Q6J("innerHTML",t.user_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.question_imgnames.length>0),e.xp6(7),e.Q6J("ngIf",t.foundReview.correctness),e.xp6(1),e.Q6J("ngIf",!t.foundReview.correctness),e.xp6(3),e.Q6J("innerHTML",t.foundReview.review_content,e.oJD),e.xp6(9),e.Q6J("innerHTML",t.foundReview.report_notes,e.oJD)}}function ko(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",11),e.YNc(2,qo,45,7,"div",9),e.YNc(3,Io,44,7,"div",9),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.user_answer&&t.foundReview&&t.revieworReport),e.xp6(1),e.Q6J("ngIf",t.user_answer&&t.foundReview&&!t.revieworReport)}}function Do(i,s){if(1&i&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e._UZ(3,"div"),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",3),e.TgZ(6,"mat-card"),e._UZ(7,"p",5),e.TgZ(8,"p",6),e.TgZ(9,"u"),e.TgZ(10,"b"),e._uU(11,"Question:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(12,"div",7),e.YNc(13,mo,3,1,"div",8),e.YNc(14,po,3,1,"div",9),e.YNc(15,Zo,4,2,"div",9),e.YNc(16,ko,4,2,"div",9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Jzz("\n                      width: 100%;\n                      height: 400px;\n                      max-height: 60vh;\n                      border-radius: 10px;\n                      background: url('",t.cdnfolder+t.question.question_avatar.media_name,"') no-repeat center center / cover;\n                  "),e.xp6(4),e.Q6J("innerHTML",t.question.post_title,e.oJD),e.xp6(5),e.Q6J("innerHTML",t.question.post_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.question_imgnames.length>0),e.xp6(1),e.Q6J("ngIf",!t.user_answer&&!t.foundReview),e.xp6(1),e.Q6J("ngIf",t.AnswerorReview),e.xp6(1),e.Q6J("ngIf",!t.AnswerorReview)}}let So=(()=>{class i{constructor(t,o,r,c,p,w,I){this.route=t,this._localService=o,this._fetchAPI=r,this._snackbar=c,this.dialog=p,this.store=w,this.router=I,this.question_imgnames=[],this.AnswerorReview=!0,this.answerorReport=!0,this.user_answer_imgnames=[],this.original_answer_imgnames=[],this.revieworReport=!0,this.destroy$=new H.xQ}get cdnfolder(){return this._localService.addquestionproduct.cdnfolder}ngOnInit(){(0,fe.aj)([this.route.queryParams.pipe((0,M.n)(t=>!t.question_ID)),this._localService.allquestions$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t)),this._localService.questionmarketinfo$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t||!t.questionmarketinfo))]).subscribe(t=>{var o,r;if(this.question=t[1].find(c=>c.ID==t[0].question_ID),this.question)if(this.question_imgnames=this.question.question_imgs.map(c=>c.media_name),this.AnswerorReview=!t[0].user_answer_review_ID,t[0].isReport?(this.answerorReport=!1,this.revieworReport=!1):(this.answerorReport=!0,this.revieworReport=!0),t[0].isReport)if(t[0].user_answer_review_ID){if(!this.question.questionmarket_user_answer||!localStorage.getItem("user_id"))return;let c=this.question.questionmarket_user_answer.find(p=>p.parent_ID==this.question.ID&&p.user_ID==parseInt(localStorage.getItem("user_id")));if(!c||(this.user_answer=c,this.user_answer_imgnames=c.answer_imgs.map(p=>p.media_name),this.foundReview=null===(r=t[2].questionmarketinfo.answer_reviews)||void 0===r?void 0:r.find(p=>p.user_answer_ID==c.ID),!this.foundReview))return;this.original_answer=this.foundReview.original_answer_info}else{if(!this.question.questionmarket_user_answer)return;let c=this.question.questionmarket_user_answer.find(I=>I.ID==t[0].user_answer_ID);if(!c)return;this.user_answer=c,this.user_answer_imgnames=c.answer_imgs.map(I=>I.media_name),this._fetchAPI.postAPI({urlsuffix:"useranswer_reportedReviewerRequireOriginalAnswer",body:{user_answer_ID:t[0].user_answer_ID}}).then(I=>{this.original_answer=I,this.original_answer_imgnames=this.original_answer.answer_imgs.map(j=>j.media_name)}).catch(I=>{console.error(I.error),this._snackbar.open(I.error.message,"Close")})}else if(t[0].user_answer_review_ID){if(this.question.questionmarket_user_answer){let c=this.question.questionmarket_user_answer.find(p=>p.ID==t[0].user_answer_ID);if(!c)return;this.user_answer=c,this.user_answer_imgnames=c.answer_imgs.map(p=>p.media_name),this.foundReview=null===(o=t[2].questionmarketinfo.answer_reviews)||void 0===o?void 0:o.find(p=>p.ID==t[0].user_answer_review_ID),this.foundReview&&(this.original_answer=this.foundReview.original_answer_info)}}else if(this.question.questionmarket_user_answer&&localStorage.getItem("user_id")){let c=this.question.questionmarket_user_answer.find(p=>p.user_ID==parseInt(localStorage.getItem("user_id")));if(!c)return;this.user_answer=c,this.user_answer_imgnames=c.answer_imgs.map(p=>p.media_name)}})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(L.gz),e.Y36(N),e.Y36(W.a),e.Y36(Q.ux),e.Y36(C.uw),e.Y36(z.yh),e.Y36(L.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-question-detail-page"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","mb-5","justify-content-center"],[1,"col-12","col-lg-8","col-xl-6"],[1,"row","justify-content-center"],[1,"h3","text-center",3,"innerHTML"],[1,"h5"],[1,"mb-3",3,"innerHTML"],["class","row mb-3",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","mb-3"],[1,"col"],[3,"image_names"],[1,"row"],[3,"question_ID"],[1,"text-success"],[3,"innerHTML"],[1,"text-danger"],[1,"fa-thin","fa-circle-check","me-2"],[1,"fa-thin","fa-ballot-check","me-2"],[1,"fa-thin","fa-marker","me-2"],["class","ms-2","mat-raised-button","","color","primary",4,"ngIf"],["class","ms-2","mat-raised-button","","color","warn",4,"ngIf"],[1,"fa-thin","fa-circle-exclamation","me-2"],["mat-raised-button","","color","primary",1,"ms-2"],[1,"fa-light","fa-circle-check"],["mat-raised-button","","color","warn",1,"ms-2"],[1,"fa-light","fa-circle-xmark"],[1,"row","pb-3"],[1,"fa-thin","fa-circle-xmark","me-2"],[1,"h5","text-danger"],[1,"fa-thin","fa-diamond-exclamation","me-2"]],template:function(t,o){1&t&&e.YNc(0,Do,17,9,"div",0),2&t&&e.Q6J("ngIf",o.question)},directives:[k.O5,oe.a8,U,ri,S.bx,ut.d,F.lW],styles:[""]}),i})(),Uo=(()=>{class i{constructor(t,o,r,c,p,w,I,j){this.data=t,this.dialogRef=o,this.apollo=r,this.socket=c,this._snackbar=p,this.router=w,this.store=I,this._fetchAPI=j,this.reportNotes=new h.NI("",h.kI.required)}ngOnInit(){}confirmReport(){this.reportNotes.valid&&confirm("Are you sure you want to submit this report?")&&this._fetchAPI.postAPI({urlsuffix:"report_user_answer_review_invalid",body:{user_answer_review_ID:this.data.user_answer_review_ID,report_notes:this.reportNotes.value,notification_ID:this.data.notification_ID}}).then(r=>{r.selectedUsers&&r.selectedUsers.length&&this.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:r.selectedUsers}),this.dialogRef.close(),this._snackbar.open("Report is submitted successfully","Close"),this.router.navigate(["/questionmarket"]),this.store.dispatch((0,se.LB)())}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.WI),e.Y36(C.so),e.Y36(Ce._M),e.Y36(de.sk),e.Y36(Q.ux),e.Y36(L.F0),e.Y36(z.yh),e.Y36(W.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-report-answer-review-dialog"]],decls:16,vars:1,consts:[[1,"h5"],[1,"fa-thin","fa-flag-swallowtail","me-2"],["name","Report notes","rows","5","matInput","",3,"formControl"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-dialog-content"),e.TgZ(1,"p",0),e.TgZ(2,"u"),e._UZ(3,"i",1),e._uU(4," Report Form"),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7," Why do you report this review, write somethings... "),e.qZA(),e._UZ(8,"textarea",2),e.qZA(),e.TgZ(9,"mat-hint"),e._uU(10," By confirming this form, you are agreed that your report is true. If not, you may get 1 punish point from the controllers. "),e.qZA(),e.qZA(),e.TgZ(11,"mat-dialog-actions",3),e.TgZ(12,"button",4),e._uU(13,"Cancel"),e.qZA(),e.TgZ(14,"button",5),e.NdJ("click",function(){return o.confirmReport()}),e._uU(15," Confirm "),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("formControl",o.reportNotes))},directives:[C.xY,S.KE,S.hX,Te.Nt,h.Fj,h.JJ,h.oH,S.bx,C.H8,F.lW,C.ZT],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),i})();function No(i,s){if(1&i&&(e.TgZ(0,"div",11),e.TgZ(1,"div",9),e._UZ(2,"app-image-viewer",16),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function Ro(i,s){if(1&i&&(e.TgZ(0,"div",11),e.TgZ(1,"div",9),e._UZ(2,"app-image-viewer",16),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.answer_imgnames)}}function Po(i,s){if(1&i&&(e.TgZ(0,"div",11),e.TgZ(1,"div",9),e._UZ(2,"app-image-viewer",16),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.user_answer_imgnames)}}function Mo(i,s){1&i&&(e.TgZ(0,"button",17),e._UZ(1,"i",18),e._uU(2," Right "),e.qZA())}function Qo(i,s){1&i&&(e.TgZ(0,"button",19),e._UZ(1,"i",20),e._uU(2," Wrong "),e.qZA())}function Yo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",8),e.TgZ(1,"div",21),e.TgZ(2,"p",22),e._uU(3," Your confirmation: "),e.qZA(),e.TgZ(4,"p"),e._uU(5," Are you satisfied with this review? "),e.qZA(),e.TgZ(6,"p"),e.TgZ(7,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).userConfirmReview(!0)}),e._UZ(8,"i",24),e.qZA(),e.TgZ(9,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).userConfirmReview(!0)}),e._UZ(10,"i",26),e.qZA(),e.TgZ(11,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openReportDialog()}),e._UZ(12,"i",28),e._uU(13," Report "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function Jo(i,s){if(1&i&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e._UZ(3,"div"),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",3),e.TgZ(6,"mat-card"),e._UZ(7,"p",5),e.TgZ(8,"p"),e.TgZ(9,"u"),e.TgZ(10,"b"),e._uU(11,"Question:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(12,"div",6),e.YNc(13,No,3,1,"div",7),e.TgZ(14,"p"),e.TgZ(15,"u"),e.TgZ(16,"b"),e._uU(17,"Original answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(18,"div",6),e.YNc(19,Ro,3,1,"div",7),e.TgZ(20,"p"),e.TgZ(21,"b"),e.TgZ(22,"u"),e._uU(23,"Your answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(24,"div",6),e.YNc(25,Po,3,1,"div",7),e.TgZ(26,"div",8),e.TgZ(27,"div",9),e.TgZ(28,"p",10),e.TgZ(29,"b"),e._uU(30,"*** "),e.TgZ(31,"u"),e._uU(32,"Review:"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",8),e.TgZ(34,"div",9),e.TgZ(35,"p"),e._uU(36,"1. Your answer is:"),e.qZA(),e.TgZ(37,"div",11),e.YNc(38,Mo,3,0,"button",12),e.YNc(39,Qo,3,0,"button",13),e.qZA(),e.TgZ(40,"div",11),e.TgZ(41,"div",9),e._uU(42,"2. Comment of the reviewer:"),e.qZA(),e.qZA(),e.TgZ(43,"div",8),e.TgZ(44,"div",9),e._UZ(45,"p",14),e.qZA(),e.qZA(),e.YNc(46,Yo,14,0,"div",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Jzz("\n                      width: 100%;\n                      height: 400px;\n                      max-height: 60vh;\n                      border-radius: 10px;\n                      background: url('",t.cdnfolder+t.question.question_avatar.media_name,"') no-repeat center center / cover;\n                  "),e.xp6(4),e.Q6J("innerHTML",t.question.post_title,e.oJD),e.xp6(5),e.Q6J("innerHTML",t.question.post_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.question_imgnames.length>0),e.xp6(5),e.Q6J("innerHTML",t.answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.answer_imgnames.length>0),e.xp6(5),e.Q6J("innerHTML",t.user_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.user_answer_imgnames.length>0),e.xp6(13),e.Q6J("ngIf",t.foundReview.correctness),e.xp6(1),e.Q6J("ngIf",!t.foundReview.correctness),e.xp6(6),e.Q6J("innerHTML",t.foundReview.review_content,e.oJD),e.xp6(1),e.Q6J("ngIf",!t.foundReview.review_confirmed)}}let Oo=(()=>{class i{constructor(t,o,r,c,p,w,I,j){this.route=t,this._localService=o,this._fetchAPI=r,this._snackbar=c,this.dialog=p,this.store=w,this.socket=I,this.router=j,this.question_imgnames=[],this.answer_imgnames=[],this.user_answer_imgnames=[],this.destroy$=new H.xQ}get cdnfolder(){return this._localService.addquestionproduct.cdnfolder}openReportDialog(){this.dialog.open(Uo,{width:"400px",data:{user_answer_review_ID:this.foundReview.ID,notification_ID:this.notification_ID}})}ngOnInit(){(0,fe.aj)([this.route.queryParams.pipe((0,M.n)(t=>!t.review_ID)),this._localService.questionmarketinfo$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t||!t.questionmarketinfo.answer_reviews)),this._localService.allquestions$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t))]).subscribe(t=>{let o=t[1].questionmarketinfo.answer_reviews;if(this.review_ID=t[0].review_ID,this.foundReview=o.find(c=>c.ID==this.review_ID),!this.foundReview||(this.question=this.foundReview.question_info,!this.question))return;this.notification_ID=t[0].notification_ID,this.question_imgnames=this.question.question_imgs.map(c=>c.media_name),this.answer=this.foundReview.original_answer_info,this.answer_imgnames=[...this.answer.answer_imgs.map(c=>c.media_name)];let r=t[2].find(c=>c.ID==this.foundReview.question_ID);if(console.log(r),r&&r.questionmarket_user_answer){if(this.user_answer=r.questionmarket_user_answer.find(c=>c.ID==this.foundReview.user_answer_ID),!this.user_answer)return;this.user_answer_imgnames=this.user_answer.answer_imgs.map(c=>c.media_name)}})}userConfirmReview(t){var o=this;return(0,be.Z)(function*(){if(confirm("Are you sure?")){let c={urlsuffix:"userconfirmreview",body:{review_ID:o.review_ID,isLiked:t,notification_ID:o.notification_ID}};yield o._fetchAPI.postAPI(c).then(p=>{p&&"number"==typeof p&&o.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:[p]}),o.router.navigate(["/questionmarket"]),o.store.dispatch((0,se.LB)()),o.store.dispatch((0,$.Kl)()),o._snackbar.open("Confirmed successfully!","Close")}).catch(p=>{console.log(p.error),o.router.navigate(["/questionmarket"]),o.store.dispatch((0,se.LB)()),o.store.dispatch((0,$.Kl)()),o._snackbar.open(p.error.message,"Close")})}})()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(L.gz),e.Y36(N),e.Y36(W.a),e.Y36(Q.ux),e.Y36(C.uw),e.Y36(z.yh),e.Y36(de.sk),e.Y36(L.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-check-review-page"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","mb-5","justify-content-center"],[1,"col-12","col-lg-8","col-xl-6"],[1,"row","justify-content-center"],[1,"h3","text-center",3,"innerHTML"],[1,"mb-3",3,"innerHTML"],["class","row mb-3",4,"ngIf"],[1,"row"],[1,"col"],[1,"h5"],[1,"row","mb-3"],["mat-raised-button","","color","primary",4,"ngIf"],["mat-raised-button","","color","warn",4,"ngIf"],[3,"innerHTML"],["class","row",4,"ngIf"],[3,"image_names"],["mat-raised-button","","color","primary"],[1,"fa-light","fa-circle-check"],["mat-raised-button","","color","warn"],[1,"fa-light","fa-circle-xmark"],[1,"col","text-center"],[1,"h4"],["mat-mini-fab","",1,"me-2",3,"click"],[1,"fa-light","fa-thumbs-up","h5","m-0"],["mat-mini-fab","","color","warn",1,"me-2",3,"click"],[1,"fa-light","fa-thumbs-down","h5","m-0"],["mat-button","",3,"click"],[1,"fa-light","fa-flag-swallowtail"]],template:function(t,o){1&t&&e.YNc(0,Jo,47,14,"div",0),2&t&&e.Q6J("ngIf",o.question&&o.answer&&o.user_answer)},directives:[k.O5,oe.a8,U,F.lW],styles:[""]}),i})(),Fo=(()=>{class i{constructor(t,o,r,c,p,w,I){this.data=t,this.dialogRef=o,this.socket=r,this._snackbar=c,this.router=p,this.store=w,this._fetchAPI=I,this.reportNotes=new h.NI("",h.kI.required)}ngOnInit(){}confirmReport(){this.reportNotes.valid&&confirm("Are you sure you want to submit this report?")&&this._fetchAPI.postAPI({urlsuffix:"report_invalid_question",body:{question_ID:this.data.question_ID,report_notes:this.reportNotes.value}}).then(r=>{r.selectedUsers&&r.selectedUsers.length&&this.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:r.selectedUsers}),this.dialogRef.close(),this._snackbar.open("Report is submitted successfully","Close"),this.router.navigate(["/questionmarket"]),this.store.dispatch((0,se.LB)())}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.WI),e.Y36(C.so),e.Y36(de.sk),e.Y36(Q.ux),e.Y36(L.F0),e.Y36(z.yh),e.Y36(W.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-report-invalid-question-dialog"]],decls:16,vars:1,consts:[[1,"h5"],[1,"fa-thin","fa-flag-swallowtail","me-2"],["name","Report notes","rows","5","matInput","",3,"formControl"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-dialog-content"),e.TgZ(1,"p",0),e.TgZ(2,"u"),e._UZ(3,"i",1),e._uU(4," Report Form"),e.qZA(),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7," Why do you report this question, write somethings... "),e.qZA(),e._UZ(8,"textarea",2),e.qZA(),e.TgZ(9,"mat-hint"),e._uU(10," By confirming this form, you are agreed that your report is true. If not, you may get 1 punish point from the controllers. "),e.qZA(),e.qZA(),e.TgZ(11,"mat-dialog-actions",3),e.TgZ(12,"button",4),e._uU(13,"Cancel"),e.qZA(),e.TgZ(14,"button",5),e.NdJ("click",function(){return o.confirmReport()}),e._uU(15," Confirm "),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("formControl",o.reportNotes))},directives:[C.xY,S.KE,S.hX,Te.Nt,h.Fj,h.JJ,h.oH,S.bx,C.H8,F.lW,C.ZT],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),i})();function Eo(i,s){if(1&i&&e._UZ(0,"img",28),2&i){const t=e.oxw(2);e.Q6J("src",t.authorcdnpath+t.author_avatar,e.LSH)}}function Lo(i,s){1&i&&(e.TgZ(0,"div",29),e.TgZ(1,"div",30),e.TgZ(2,"p"),e.TgZ(3,"u"),e.TgZ(4,"i"),e._uU(5,"Images:"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA())}function Ho(i,s){if(1&i&&(e.TgZ(0,"div",31),e.TgZ(1,"div",30),e._UZ(2,"app-image-viewer",32),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function Bo(i,s){if(1&i&&(e.TgZ(0,"li",35),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("matTooltip",t.category_name),e.xp6(1),e.hij(" ",t.category_name," ")}}function $o(i,s){if(1&i&&(e.TgZ(0,"div",33),e.TgZ(1,"ul"),e.YNc(2,Bo,2,2,"li",34),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.cat_list)}}function zo(i,s){if(1&i&&(e.TgZ(0,"div",36),e.TgZ(1,"div",30),e._UZ(2,"app-product-answer-card",37),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("question_ID",t.q_data.ID)}}function Vo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return r.isReplying=!r.isReplying}),e._uU(1,"Reply"),e.qZA()}}const jo=function(i){return{question_ID:i}};function Xo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.TgZ(3,"div",4),e.TgZ(4,"h3"),e.YNc(5,Eo,1,1,"img",5),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"h1"),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"div",9),e.qZA(),e.YNc(13,Lo,6,0,"div",10),e.YNc(14,Ho,3,1,"div",11),e.TgZ(15,"p",12),e.TgZ(16,"small"),e._uU(17),e.ALo(18,"date"),e.qZA(),e.qZA(),e.YNc(19,$o,3,1,"div",13),e.qZA(),e.YNc(20,zo,3,1,"div",14),e._UZ(21,"mat-divider"),e.TgZ(22,"div",15),e.TgZ(23,"div",16),e._UZ(24,"div",17),e.TgZ(25,"div",17),e.TgZ(26,"div",18),e.TgZ(27,"div",19),e.TgZ(28,"mat-chip-list"),e.YNc(29,Vo,2,0,"mat-chip",20),e.TgZ(30,"mat-chip",21),e._uU(31,"Details"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",22),e.TgZ(33,"button",23),e._UZ(34,"i",24),e.qZA(),e.TgZ(35,"mat-menu",null,25),e.TgZ(37,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().openReportDialog()}),e._UZ(38,"i",27),e._uU(39,"Report "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(36),o=e.oxw();e.xp6(2),e.Jzz("background: url('",o.cdnfolder+o.question_avatar,"') no-repeat center center / cover;"),e.xp6(3),e.Q6J("ngIf",o.author_avatar),e.xp6(1),e.hij(" ",o.author_name," "),e.xp6(4),e.Oqu(o.q_data.post_title),e.xp6(2),e.Q6J("innerHTML",o.q_data.post_content,e.oJD),e.xp6(1),e.Q6J("ngIf",o.question_imgnames.length>0),e.xp6(1),e.Q6J("ngIf",o.question_imgnames.length>0),e.xp6(3),e.Oqu(e.xi3(18,15,o.q_data.post_date,"short")),e.xp6(2),e.Q6J("ngIf",o.cat_list),e.xp6(1),e.Q6J("ngIf",o.isReplying&&!o.answered),e.xp6(9),e.Q6J("ngIf",!o.answered),e.xp6(1),e.Q6J("queryParams",e.VKq(18,jo,o.q_data.ID)),e.xp6(3),e.Q6J("matMenuTriggerFor",t)}}let Wo=(()=>{class i{constructor(t,o){this._localService=t,this.dialog=o,this.answered=!1,this.isOwner=!1,this.question_imgnames=[],this.isReplying=!1}get cdnfolder(){return this._localService.addquestionproduct.cdnfolder}get authorcdnpath(){return this._localService.user_img_path}ngOnInit(){var t;localStorage.getItem("user_id")&&this.q_data.post_author==parseInt(localStorage.getItem("user_id"))&&(this.isOwner=!0);let o=this.q_data;this.author_name=o.author_info.user_name,this.question_avatar=o.question_avatar.media_name,this.author_avatar=null===(t=o.author_info.user_avatar)||void 0===t?void 0:t.media_name,this.cat_list=this._localService.catList.filter(r=>o.post_category.indexOf(r.ID)>=0),this.question_imgnames=o.question_imgs.map(r=>r.media_name),this.q_data.questionmarket_user_answer&&this.q_data.questionmarket_user_answer.find(r=>r.user_ID==parseInt(localStorage.getItem("user_id")))&&(this.answered=!0)}openReportDialog(){this.dialog.open(Fo,{width:"400px",data:{question_ID:this.q_data.ID}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(N),e.Y36(C.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-single-blog-card"]],inputs:{q_data:"q_data"},decls:1,vars:1,consts:[["class","blog-container",4,"ngIf"],[1,"blog-container"],[1,"blog-header"],[1,"blog-cover"],[1,"blog-author","pt-3"],["class","me-2","style","\n              width: 40px;\n              height: 40px;\n              border-radius: 50%;\n              background: white;\n            ",3,"src",4,"ngIf"],[1,"blog-body","py-4"],[1,"blog-title"],[1,"blog-summary","mb-3"],[3,"innerHTML"],["class","row",4,"ngIf"],["class","row mb-3",4,"ngIf"],[1,"text-end","text-muted"],["class","blog-tags",4,"ngIf"],["class","row pb-3",4,"ngIf"],[1,"container-fluid","py-3"],[1,"row","justify-content-between"],[1,"col-auto"],[1,"row","align-items-center"],[1,"col-auto",2,"height","fit-content"],["color","primary","selected","",3,"click",4,"ngIf"],["color","accent","selected","","routerLink","/questionmarket/singlequestion",3,"queryParams"],[1,"col-auto","px-0",2,"height","fit-content"],["mat-button","",3,"matMenuTriggerFor"],[1,"fa-thin","fa-gear"],["postCardMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"fa-thin","fa-bug","me-2"],[1,"me-2",2,"width","40px","height","40px","border-radius","50%","background","white",3,"src"],[1,"row"],[1,"col"],[1,"row","mb-3"],[3,"image_names"],[1,"blog-tags"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[1,"row","pb-3"],[3,"question_ID"],["color","primary","selected","",3,"click"]],template:function(t,o){1&t&&e.YNc(0,Xo,40,20,"div",0),2&t&&e.Q6J("ngIf",!o.isOwner)},directives:[k.O5,ut.d,E.qn,E.HS,L.rH,F.lW,te.p6,te.VK,te.OP,U,k.sg,Ye.gM,ri],pipes:[k.uU],styles:[".blog-container[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:#0003 0 4px 2px -2px;font-weight:100;margin:48px auto;width:20rem}@media screen and (min-width: 480px){.blog-container[_ngcontent-%COMP%]{width:28rem}}@media screen and (min-width: 767px){.blog-container[_ngcontent-%COMP%]{width:40rem}}@media screen and (min-width: 959px){.blog-container[_ngcontent-%COMP%]{width:50rem}}.blog-cover[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;height:15rem;box-shadow:inset #0003 0 64px 64px 16px}.blog-author[_ngcontent-%COMP%], .blog-author--no-cover[_ngcontent-%COMP%]{margin:0 auto;padding-top:.125rem;width:80%}.blog-author[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-weight:100}.blog-author--no-cover[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#999;font-weight:100}.blog-body[_ngcontent-%COMP%]{margin:0 auto;width:80%}.video-body[_ngcontent-%COMP%]{height:100%;width:100%}.blog-tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;list-style:none;padding-left:0}.blog-tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:.5rem}.blog-tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid #999999;border-radius:3px;color:#999;font-size:.75rem;height:1.5rem;line-height:1.5rem;letter-spacing:1px;padding:0 .5rem;text-align:center;text-transform:uppercase;white-space:nowrap;width:5rem;overflow:hidden;text-overflow:ellipsis}"]}),i})();function Ko(i,s){if(1&i&&(e.TgZ(0,"div",3),e.TgZ(1,"div",4),e._UZ(2,"app-single-blog-card",5),e.qZA(),e.qZA()),2&i){const t=s.$implicit;e.xp6(2),e.Q6J("q_data",t)}}function Go(i,s){if(1&i&&(e.TgZ(0,"div",1),e.YNc(1,Ko,3,1,"div",2),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.questionlist)}}let en=(()=>{class i{constructor(t,o){this.store=t,this._localService=o,this.destroy$=new H.xQ}ngOnInit(){this._localService.allquestions$.pipe((0,P.R)(this.destroy$)).subscribe(t=>{this.questionlist=t.filter(o=>"publish"==o.post_status)})}ngOnDestroy(){this.destroy$.next(!1),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.yh),e.Y36(N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-question-list"]],decls:1,vars:1,consts:[["class","container p-0",4,"ngIf"],[1,"container","p-0"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[3,"q_data"]],template:function(t,o){1&t&&e.YNc(0,Go,2,1,"div",0),2&t&&e.Q6J("ngIf",o.questionlist)},directives:[k.O5,k.sg,Wo],styles:[""]}),i})(),tn=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-market-page"]],decls:2,vars:0,consts:[[1,"container-fluid","p-0","pb-5"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-question-list"),e.qZA())},directives:[en],styles:[""]}),i})();function on(i,s){1&i&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e._uU(3,"This notification is not valid anymore."),e.qZA(),e.qZA(),e.qZA())}function nn(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",3),e._UZ(2,"app-image-viewer",14),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function rn(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",3),e._UZ(2,"app-image-viewer",14),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("image_names",t.user_answer_imgnames)}}function sn(i,s){if(1&i&&(e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"p"),e.TgZ(3,"b"),e.TgZ(4,"u"),e._UZ(5,"i",24),e._uU(6," What does the reporter say:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"p",25),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(7),e.Q6J("innerHTML",t.report_notes,e.oJD)}}function an(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"p",15),e.TgZ(3,"b"),e.TgZ(4,"u"),e._UZ(5,"i",16),e._uU(6," Reported answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"div",9),e.YNc(8,rn,3,1,"div",10),e.YNc(9,sn,8,1,"div",12),e.TgZ(10,"div",2),e.TgZ(11,"div",3),e.TgZ(12,"p",17),e.TgZ(13,"b"),e.TgZ(14,"u"),e._uU(15,"Who is wrong here?"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",18),e.TgZ(17,"div",19),e.TgZ(18,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).confirmReport(!0)}),e._UZ(19,"i",21),e._uU(20," The answerer "),e.qZA(),e.qZA(),e.TgZ(21,"div",19),e.TgZ(22,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).confirmReport(!1)}),e._UZ(23,"i",23),e._uU(24," The reporter "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(7),e.Q6J("innerHTML",t.user_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.user_answer_imgnames.length>0),e.xp6(1),e.Q6J("ngIf",t.report_notes)}}function ln(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",3),e._UZ(2,"app-image-viewer",14),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("image_names",t.user_answer_imgnames)}}function cn(i,s){if(1&i&&(e.TgZ(0,"div",13),e.TgZ(1,"div",3),e._UZ(2,"app-image-viewer",14),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("image_names",t.original_answer_imgnames)}}function un(i,s){if(1&i&&(e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"p"),e.TgZ(3,"b"),e.TgZ(4,"u"),e._UZ(5,"i",24),e._uU(6," What does the reporter say:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"p",25),e.qZA(),e.qZA()),2&i){const t=e.oxw(4);e.xp6(7),e.Q6J("innerHTML",t.report_notes,e.oJD)}}function dn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"p"),e.TgZ(3,"b"),e.TgZ(4,"u"),e._UZ(5,"i",16),e._uU(6,"User answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"div",9),e.YNc(8,ln,3,1,"div",10),e.TgZ(9,"p",26),e.TgZ(10,"b"),e.TgZ(11,"u"),e._UZ(12,"i",27),e._uU(13,"Original answer:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(14,"div",9),e.YNc(15,cn,3,1,"div",10),e.TgZ(16,"p",15),e.TgZ(17,"b"),e.TgZ(18,"u"),e._UZ(19,"i",28),e._uU(20,"Reported review:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(21,"div",9),e.YNc(22,un,8,1,"div",12),e.TgZ(23,"div",2),e.TgZ(24,"div",3),e.TgZ(25,"p",17),e.TgZ(26,"b"),e.TgZ(27,"u"),e._uU(28,"Who is wrong here?"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",18),e.TgZ(30,"div",19),e.TgZ(31,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).confirmReport(!0)}),e._UZ(32,"i",21),e._uU(33," The reviewer "),e.qZA(),e.qZA(),e.TgZ(34,"div",19),e.TgZ(35,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).confirmReport(!1)}),e._UZ(36,"i",23),e._uU(37," The reporter "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(7),e.Q6J("innerHTML",t.user_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.user_answer_imgnames.length>0),e.xp6(6),e.Q6J("innerHTML",t.original_answer.answer_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.original_answer_imgnames.length>0),e.xp6(6),e.Q6J("innerHTML",t.user_answer_review.review_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.report_notes)}}function mn(i,s){if(1&i&&(e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.YNc(2,an,25,3,"div",12),e.YNc(3,dn,38,6,"div",12),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!t.user_answer_review),e.xp6(1),e.Q6J("ngIf",t.user_answer_review)}}function pn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"p",15),e.TgZ(3,"b"),e.TgZ(4,"u"),e._UZ(5,"i",29),e._uU(6,"This question is reported"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"p"),e.TgZ(8,"u"),e._uU(9,"Report notes:"),e.qZA(),e.qZA(),e._UZ(10,"p",25),e.TgZ(11,"div",2),e.TgZ(12,"div",3),e.TgZ(13,"p",17),e.TgZ(14,"b"),e.TgZ(15,"u"),e._uU(16,"Who is wrong here?"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",18),e.TgZ(18,"div",19),e.TgZ(19,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).confirmReport(!0)}),e._UZ(20,"i",21),e._uU(21," Question author "),e.qZA(),e.qZA(),e.TgZ(22,"div",19),e.TgZ(23,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).confirmReport(!1)}),e._UZ(24,"i",23),e._uU(25," The reporter "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(10),e.Q6J("innerHTML",t.question.report_notes,e.oJD)}}function gn(i,s){if(1&i&&(e.TgZ(0,"div",1),e.TgZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"div"),e.qZA(),e.qZA(),e.TgZ(4,"div",6),e.TgZ(5,"div",5),e.TgZ(6,"mat-card"),e._UZ(7,"p",7),e.TgZ(8,"p"),e.TgZ(9,"u"),e.TgZ(10,"b"),e._UZ(11,"i",8),e._uU(12," Question:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(13,"div",9),e.YNc(14,nn,3,1,"div",10),e.TgZ(15,"div",11),e.TgZ(16,"div",3),e._UZ(17,"mat-divider"),e.qZA(),e.qZA(),e.YNc(18,mn,4,2,"div",12),e.YNc(19,pn,26,1,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Jzz("\n                        width: 100%;\n                        height: 400px;\n                        max-height: 60vh;\n                        border-radius: 10px;\n                        background: url('",t.cdnfolder+t.question.question_avatar.media_name,"') no-repeat center center / cover;\n                    "),e.xp6(4),e.Q6J("innerHTML",t.question.post_title,e.oJD),e.xp6(6),e.Q6J("innerHTML",t.question.post_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.question_imgnames.length>0),e.xp6(4),e.Q6J("ngIf",t.user_answer),e.xp6(1),e.Q6J("ngIf",!t.user_answer&&t.question.is_reported)}}let hn=(()=>{class i{constructor(t,o,r,c,p,w,I,j){this._localService=t,this.route=o,this.router=r,this.store=c,this.apollo=p,this._snackbar=w,this.socket=I,this._fetchAPI=j,this.is_reported=!1,this.question_imgnames=[],this.user_answer_imgnames=[],this.original_answer_imgnames=[],this.destroy$=new H.xQ}ngOnInit(){(0,fe.aj)([this.route.queryParams.pipe((0,M.n)(t=>!t.question_ID)),this._localService.allquestions$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t)),this._localService.questionmarketinfo$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t||!t.questionmarketinfo.answer_reviews))]).subscribe(t=>{let o=t[0],r=t[1],c=t[2].questionmarketinfo.answer_reviews;if(o.notification_ID&&(this.notification_ID=parseInt(o.notification_ID)),this.question=r.find(p=>p.ID==o.question_ID),this.question&&this.question.questionmarket_user_answer){if(this.question.is_reported&&(this.is_reported=this.question.is_reported),this.question_imgnames=this.question.question_imgs.map(p=>p.media_name),o.user_answer_ID){if(this.user_answer=this.question.questionmarket_user_answer.find(p=>p.ID==o.user_answer_ID),!this.user_answer)return;this.user_answer_imgnames=this.user_answer.answer_imgs.map(p=>p.media_name),this.user_answer.report_notes&&(this.report_notes=this.user_answer.report_notes)}o.user_answer_review_ID&&(this.user_answer_review=c.find(p=>p.ID==o.user_answer_review_ID),this.user_answer_review&&(this.original_answer=this.user_answer_review.original_answer_info,this.original_answer_imgnames=this.original_answer.answer_imgs.map(p=>p.media_name),this.report_notes=this.user_answer_review.report_notes))}})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}get cdnfolder(){return this._localService.addquestionproduct.cdnfolder}confirmReport(t){confirm("Are you sure?")&&(this.is_reported?this._fetchAPI.postAPI({urlsuffix:"confirm_report_invalid_question",body:{report_result:t,question_ID:this.question.ID,notification_ID:this.notification_ID}}).then(c=>{c.selectedUsers&&this.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:c.selectedUsers}),this.store.dispatch((0,se.LB)()),this._snackbar.open("Report confirmed successfully","Close"),this.router.navigate(["/questionmarket"])}).catch(c=>{console.log(c.message),this._snackbar.open(c.error.message,"Close")}):this.user_answer_review?this._fetchAPI.postAPI({urlsuffix:"confirm_report_invalid_answer_review",body:{report_result:t,user_answer_review_ID:this.user_answer_review.ID,notification_ID:this.notification_ID}}).then(c=>{c.selectedUsers&&this.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:c.selectedUsers}),this.store.dispatch((0,se.LB)()),this._snackbar.open("Report confirmed successfully","Close"),this.router.navigate(["/questionmarket"])}).catch(c=>{console.log(c.message),this._snackbar.open(c.error.message,"Close")}):this._fetchAPI.postAPI({urlsuffix:"confirm_report_invalid_answer",body:{report_result:t,user_answer_ID:this.user_answer.ID,notification_ID:this.notification_ID}}).then(c=>{c.selectedUsers&&this.socket.emit(ee.f.requireUserReloadNotis.name,{userIDarr:c.selectedUsers}),this.store.dispatch((0,se.LB)()),this._snackbar.open("Report confirmed successfully","Close"),this.router.navigate(["/questionmarket"])}).catch(c=>{console.log(c.message),this._snackbar.open(c.error.message,"Close")}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(N),e.Y36(L.gz),e.Y36(L.F0),e.Y36(z.yh),e.Y36(Ce._M),e.Y36(Q.ux),e.Y36(de.sk),e.Y36(W.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-control-answer-report"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col"],[1,"row","mb-5","justify-content-center"],[1,"col-12","col-lg-8","col-xl-6"],[1,"row","justify-content-center"],[1,"h3","text-center",3,"innerHTML"],[1,"fa-thin","fa-block-question","me-2"],[1,"mb-3",3,"innerHTML"],["class","row mb-3",4,"ngIf"],[1,"row","pb-3"],["class","row",4,"ngIf"],[1,"row","mb-3"],[3,"image_names"],[1,"text-danger"],[1,"fa-thin","fa-marker","me-2"],[1,"text-center","h5"],[1,"row","mb-3","justify-content-around"],[1,"col-auto"],["mat-raised-button","","color","warn",3,"click"],[1,"fa-thin","fa-marker"],["mat-raised-button","","color","accent",3,"click"],[1,"fa-thin","fa-flag"],[1,"fa-thin","fa-flag","me-2"],[3,"innerHTML"],[1,"text-success"],[1,"fa-thin","fa-circle-check","me-2"],[1,"fa-thin","fa-circle-exclamation","me-2"],[1,"fa-thin","fa-flag-swallowtail","me-2"]],template:function(t,o){1&t&&(e.YNc(0,on,4,0,"div",0),e.YNc(1,gn,20,8,"div",0)),2&t&&(e.Q6J("ngIf",!(o.question&&o.user_answer||o.is_reported)),e.xp6(1),e.Q6J("ngIf",o.question))},directives:[k.O5,oe.a8,ut.d,U,F.lW],styles:[""]}),i})();function _n(i,s){if(1&i&&(e.TgZ(0,"div",12),e.TgZ(1,"div",10),e._UZ(2,"app-image-viewer",13),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("image_names",t.question_imgnames)}}function fn(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",10),e.TgZ(2,"p",15),e._UZ(3,"i",16),e._uU(4,"Your question is reported with notes: "),e.qZA(),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.question.report_notes," ")}}function vn(i,s){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"div",10),e.TgZ(2,"p",15),e._UZ(3,"i",16),e._uU(4,"You reported this question with notes: "),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e.TgZ(8,"mat-hint"),e._uU(9," If you still think that your report is right, please contact admin for further information "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.question.report_notes," ")}}function wn(i,s){if(1&i&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e._UZ(3,"div"),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",3),e.TgZ(6,"mat-card"),e._UZ(7,"p",5),e.TgZ(8,"p",6),e.TgZ(9,"u"),e.TgZ(10,"b"),e._uU(11,"Question:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(12,"div",7),e.YNc(13,_n,3,1,"div",8),e.TgZ(14,"div",9),e.TgZ(15,"div",10),e._UZ(16,"mat-divider"),e.qZA(),e.qZA(),e.YNc(17,fn,7,1,"div",11),e.YNc(18,vn,10,1,"div",11),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Jzz("\n                        width: 100%;\n                        height: 400px;\n                        max-height: 60vh;\n                        border-radius: 10px;\n                        background: url('",t.cdnfolder+t.question.question_avatar.media_name,"') no-repeat center center / cover;\n                    "),e.xp6(4),e.Q6J("innerHTML",t.question.post_title,e.oJD),e.xp6(5),e.Q6J("innerHTML",t.question.post_content,e.oJD),e.xp6(1),e.Q6J("ngIf",t.question_imgnames.length>0),e.xp6(4),e.Q6J("ngIf",!t.isReport),e.xp6(1),e.Q6J("ngIf",t.isReport)}}let Zn=(()=>{class i{constructor(t,o,r,c,p,w){this.route=t,this._localService=o,this._fetchAPI=r,this._snackbar=c,this.store=p,this.router=w,this.question_imgnames=[],this.isReport=!1,this.destroy$=new H.xQ}get cdnfolder(){return this._localService.addquestionproduct.cdnfolder}ngOnInit(){(0,fe.aj)([this.route.queryParams.pipe((0,M.n)(t=>!t.question_ID)),this._localService.allquestions$.pipe((0,P.R)(this.destroy$))]).subscribe(t=>{if(t[0].isReport){if(this.isReport=!0,this.question=t[1].find(o=>o.ID==t[0].question_ID&&o.report_sender==parseInt(localStorage.getItem("user_id"))),!this.question)return;this.report_notes=this.question.report_notes}else this.isReport=!1,this._fetchAPI.postAPI({urlsuffix:"reportedquestion_authorrequiredata",body:{question_ID:t[0].question_ID}}).then(c=>{this.question=c,this.question_imgnames=this.question.question_imgs.map(p=>p.media_name)}).catch(c=>{console.error(c.error),this._snackbar.open(c.error.message,"Close")})})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(L.gz),e.Y36(N),e.Y36(W.a),e.Y36(Q.ux),e.Y36(z.yh),e.Y36(L.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-control-question-report"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","mb-5","justify-content-center"],[1,"col-12","col-lg-8","col-xl-6"],[1,"row","justify-content-center"],[1,"h3","text-center",3,"innerHTML"],[1,"h5"],[1,"mb-3",3,"innerHTML"],["class","row mb-3",4,"ngIf"],[1,"row","pb-3"],[1,"col"],["class","row",4,"ngIf"],[1,"row","mb-3"],[3,"image_names"],[1,"row"],[1,"text-danger"],[1,"fa-thin","fa-bug","me-2"]],template:function(t,o){1&t&&e.YNc(0,wn,19,8,"div",0),2&t&&e.Q6J("ngIf",o.question)},directives:[k.O5,oe.a8,ut.d,U,S.bx],styles:[""]}),i})();var bn=v(9002);let Tn=(()=>{class i{constructor(t,o,r){this.fetchApi=t,this._snackbar=o,this.store=r,this.amount=new h.NI(1,[h.kI.required,h.kI.min(1)])}ngOnInit(){}buy(){this.amount.valid&&confirm(`Are you sure you want to buy ${this.amount.value} "${this.item.item_name}"?`)&&this.fetchApi.postAPI({urlsuffix:"userbuyashopitem",body:{item_code:this.item.item_code,quantity:this.amount.value}}).then(r=>{this._snackbar.open("Bought successfully","Close"),this.store.dispatch((0,$.Kl)())}).catch(r=>{console.log(r.error),this._snackbar.open(r.error.message,"Close")})}changeAmount(t){let o=this.amount.value+t;o>=1&&this.amount.setValue(o)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(W.a),e.Y36(Q.ux),e.Y36(z.yh))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-shop-item-single-card"]],inputs:{item:"item",cdnpath:"cdnpath"},decls:27,vars:5,consts:[[1,"h5"],[1,"row","py-3"],[1,"col","text-center"],["alt","","width","60","height","60",3,"src"],[1,"row"],[1,"col","text-muted"],["mat-button","",3,"click"],[1,"fa-thin","fa-minus"],[2,"width","30px"],["name","ShopItemAmount","type","text","matInput","","autocomplete","off",3,"formControl"],[1,"fa-thin","fa-plus"],[1,"row","justify-content-between"],[1,"col-auto","d-flex","align-items-center"],["src","assets/img/questionmarket/icons8-coin-64.png","alt","","width","20","height","20",1,"me-2"],[1,"col-auto"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-content"),e.TgZ(2,"p",0),e._uU(3),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e._UZ(6,"img",3),e.qZA(),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"div",5),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",4),e.TgZ(12,"div",2),e.TgZ(13,"button",6),e.NdJ("click",function(){return o.changeAmount(-1)}),e._UZ(14,"i",7),e.qZA(),e.TgZ(15,"mat-form-field",8),e._UZ(16,"input",9),e.qZA(),e.TgZ(17,"button",6),e.NdJ("click",function(){return o.changeAmount(1)}),e._UZ(18,"i",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",11),e.TgZ(20,"div",12),e._UZ(21,"img",13),e.TgZ(22,"b"),e._uU(23),e.qZA(),e.qZA(),e.TgZ(24,"div",14),e.TgZ(25,"button",15),e.NdJ("click",function(){return o.buy()}),e._uU(26,"Buy"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",o.item.item_name," "),e.xp6(3),e.Q6J("src",o.cdnpath+o.item.item_avatar,e.LSH),e.xp6(4),e.hij("Description: ",o.item.item_description,""),e.xp6(6),e.Q6J("formControl",o.amount),e.xp6(7),e.Oqu(o.item.item_price))},directives:[oe.a8,oe.dn,F.lW,S.KE,Te.Nt,h.Fj,h.JJ,h.oH],styles:[""]}),i})();function An(i,s){if(1&i&&(e.TgZ(0,"div",4),e._UZ(1,"app-shop-item-single-card",5),e.qZA()),2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q6J("item",t)("cdnpath",o.cdnpath)}}function qn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"div",8),e._UZ(3,"img",9),e.TgZ(4,"span",10),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",11),e.TgZ(7,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().openInventory()}),e._UZ(8,"img",13),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.userinfo.user_abicoin)}}const yn=[{path:"",component:xe,children:[{path:"",component:ht},{path:"userprofile",component:Vt},{path:"reviewanswer",component:l},{path:"managequestions",component:Wi},{path:"singlequestion",component:So},{path:"checkreview",component:Oo},{path:"market",component:tn},{path:"checkreport",component:hn},{path:"controlquestionreport",component:Zn},{path:"itemshop",component:(()=>{class i{constructor(t,o,r){this.store=t,this.bottomSheet=o,this.localService=r,this.items=[],this.destroy$=new H.xQ}ngOnInit(){this.localService.questionmarketinfo$.pipe((0,P.R)(this.destroy$),(0,M.n)(t=>!t||!t.questionmarketinfo.shop_items)).subscribe(t=>{var o;this.items=t.questionmarketinfo.shop_items,this.cdnpath=Ae.N.BASE_CDN_URL+"/"+(null===(o=t.questionmarketinfo.defaultconfig)||void 0===o?void 0:o.shopitem_img_path),this.userinfo=t.questionmarketinfo.userinfo})}openInventory(){this.bottomSheet.open(bn.j)}ngOnDestroy(){this.destroy$.next(!1),this.destroy$.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.yh),e.Y36(Ue.ch),e.Y36(N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-item-shop-page"]],decls:4,vars:2,consts:[[1,"container"],[1,"row"],["class","col-12 col-sm-6 col-lg-4 pb-3",4,"ngFor","ngForOf"],["class","container-fluid fixed-bottom py-2 bg-white",4,"ngIf"],[1,"col-12","col-sm-6","col-lg-4","pb-3"],[3,"item","cdnpath"],[1,"container-fluid","fixed-bottom","py-2","bg-white"],[1,"row","justify-content-around"],[1,"col-auto","d-flex","align-items-center"],["src","assets/img/questionmarket/icons8-coin-64.png","alt","","width","40","height","40",1,"me-2"],[1,"h5","m-0"],[1,"col-auto"],["mat-button","",3,"click"],["src","assets/img/questionmarket/icons8-treasure-64.png","alt","","width","30","height","30"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,An,2,2,"div",2),e.qZA(),e.qZA(),e.YNc(3,qn,9,1,"div",3)),2&t&&(e.xp6(2),e.Q6J("ngForOf",o.items),e.xp6(1),e.Q6J("ngIf",o.userinfo))},directives:[k.sg,k.O5,Tn,F.lW],styles:[""]}),i})()}]}];let xn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[k.ez,L.Bz.forChild(yn)],L.Bz]}),i})();var Ut=v(9959),Cn=v(5917),In=v(3190),kn=v(8002),Dn=v(5304);let Sn=(()=>{class i{constructor(t){this.apollo=t,this.getquestionmarketinfoapi=this.apollo.watchQuery({query:re.Ps`
    { 
      questionmarketinfo {
        product_tree {
          ID,
          area_name,
          child_category_questionproduct {
              ID,
              category_name,
              child_lessons {
                ID,
                post_title,
                post_content,
                post_author,
                post_status,
                post_category,
                post_date,
                is_reported,
                report_notes,
                report_sender,
                report_counter,
                reported_date,
                report_controllers,
                question_answer {
                  ID,
                  answer_content,
                  answer_imgs {
                    media_name
                  }
                },
                question_imgs {
                  media_name
                },
                question_avatar {
                  media_name
                },
                author_info {
                  user_name,
                  user_role,
                  user_level,
                  user_avatar {
                    media_name,
                    media_path
                  },
                  gender
                },
                questionmarket_user_answer {
                  ID,
                  answer_content,
                  parent_ID,
                  user_ID,
                  is_reviewed,
                  answer_date,
                  answer_is_outdated,
                  review_ID,
                  waiting_reviewers,
                  answer_imgs {
                    media_name,
                    media_path
                  },
                  is_reported,
                  report_notes,
                  report_sender,
                  reported_date,
                  report_controllers
                }
              }
          }
        },
        defaultconfig {
          postimg_path,
          default_post_avatar,
          userimg_path,
          shopitem_img_path
        },
        userinfo {
          user_name,
          user_role,
          user_level,
          user_abicoin,
          levelup_points,
          user_avatar {
            media_name,
            media_path
          },
          gender,
          user_private_answers {
            ID,
            answer_content,
            parent_ID,
            is_reviewed,
            answer_date,
            answer_is_outdated,
            review_ID,
            waiting_reviewers,
            answer_imgs {
              media_name,
              media_path
            },
            is_reported,
            report_notes,
            report_sender,
            reported_date,
            report_controllers
          }
        },
        shop_items {
          ID,
          item_code,
          item_name,
          item_description,
          item_price,
          item_avatar
        },
        answer_reviews {
          ID,
          correctness,
          review_content,
          answerer_ID,
          user_answer_ID,
          question_ID,
          question_info,
          review_date,
          review_author,
          review_confirmation,
          original_answer_ID,
          original_answer_info,
          review_updated,
          review_fixed,
          is_reported,
          report_notes,
          report_sender,
          report_counter,
          reported_date,
          report_controllers,
          review_confirmed,
          review_isLiked
        }
      }
    }
      `}).valueChanges}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Ce._M))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Un=(()=>{class i{constructor(t,o){this.action$=t,this._questionmarketapi=o,this.getquestionmarketinfo$=(0,Ut.GW)(()=>this.action$.pipe((0,Ut.l4)($.Kl),(0,In.w)(()=>this._questionmarketapi.getquestionmarketinfoapi.pipe((0,kn.U)(r=>(0,$.Gf)({questionmarketinfo:r.data.questionmarketinfo})),(0,Dn.K)(r=>(0,Cn.of)((0,$.Dw)({errors:r})))))))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Ut.eX),e.LFG(Sn))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var dt=v(5480);dt.ZP.use([dt.Gk,dt.lI,dt.pt,dt.W_]);let Nn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[k.ez,xn,Me.D,Be.SJ,Ge,oe.QW,Te.c,S.lN,h.UX,ne.LD,F.ot,C.Is,Q.ZX,m.kz,_.Cv,E.Hi,D.p0,Ze.TU,Ji,te.Tx,Ye.AV,ni.a,ut.t,lt.Fk,Ft,at.vQ,Ue._r,Xe.fi.forRoot(),Ut.sQ.forFeature([Un])]]}),i})()}}]);